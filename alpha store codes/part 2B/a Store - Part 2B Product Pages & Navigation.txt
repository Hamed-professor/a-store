# ÃÂ± Store - Part 2B: Product Pages & Navigation

This part creates the complete product browsing experience for the luxury Persian e-commerce platform.

## Project Structure

```
alpha-store/
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ components/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ product/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ProductFilters.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ProductSearch.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ ProductDetail.tsx
â”‚   â”‚   â””â”€â”€ ğŸ“ navigation/
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ Breadcrumbs.tsx
â”‚   â”‚       â””â”€â”€ ğŸ“„ CategoryMenu.tsx
â”‚   â”œâ”€â”€ ğŸ“ hooks/
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useSearch.ts
â”‚   â”‚   â””â”€â”€ ğŸ“„ useFilters.ts
â”‚   â””â”€â”€ ğŸ“ utils/
â”‚       â”œâ”€â”€ ğŸ“„ search.ts
â”‚       â””â”€â”€ ğŸ“„ seo.ts
â”œâ”€â”€ ğŸ“ pages/
â”‚   â”œâ”€â”€ ğŸ“ products/
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ index.tsx
â”‚   â”‚   â””â”€â”€ ğŸ“„ [slug].tsx
â”‚   â”œâ”€â”€ ğŸ“ categories/
â”‚   â”‚   â””â”€â”€ ğŸ“„ [category].tsx
â”‚   â””â”€â”€ ğŸ“„ search.tsx
```

## Core Components

### 1. Product Filters Component

```typescript
// src/components/product/ProductFilters.tsx
import { useState, useEffect } from 'react';
import { ChevronDown, X, Filter } from 'lucide-react';

interface FilterOptions {
  categories: string[];
  priceRange: [number, number];
  brands: string[];
  colors: string[];
  sizes: string[];
  ratings: number[];
}

interface ActiveFilters {
  category?: string;
  priceMin?: number;
  priceMax?: number;
  brand?: string;
  color?: string;
  size?: string;
  rating?: number;
}

interface ProductFiltersProps {
  options: FilterOptions;
  activeFilters: ActiveFilters;
  onFiltersChange: (filters: ActiveFilters) => void;
  isOpen?: boolean;
  onToggle?: () => void;
}

const ProductFilters: React.FC<ProductFiltersProps> = ({
  options,
  activeFilters,
  onFiltersChange,
  isOpen = true,
  onToggle
}) => {
  const [localFilters, setLocalFilters] = useState<ActiveFilters>(activeFilters);
  const [expandedSections, setExpandedSections] = useState({
    category: true,
    price: true,
    brand: false,
    color: false,
    size: false,
    rating: false
  });

  const formatPrice = (price: number): string => {
    return new Intl.NumberFormat('fa-IR').format(price) + ' Ø±ÛŒØ§Ù„';
  };

  const toggleSection = (section: string) => {
    setExpandedSections(prev => ({
      ...prev,
      [section]: !prev[section]
    }));
  };

  const updateFilter = (key: keyof ActiveFilters, value: any) => {
    const newFilters = { ...localFilters, [key]: value };
    setLocalFilters(newFilters);
    onFiltersChange(newFilters);
  };

  const clearFilter = (key: keyof ActiveFilters) => {
    const newFilters = { ...localFilters };
    delete newFilters[key];
    setLocalFilters(newFilters);
    onFiltersChange(newFilters);
  };

  const clearAllFilters = () => {
    setLocalFilters({});
    onFiltersChange({});
  };

  const activeFilterCount = Object.keys(localFilters).length;

  const FilterSection = ({ title, isExpanded, onToggle, children }) => (
    <div className="border-b border-gray-100 last:border-b-0">
      <button
        onClick={onToggle}
        className="w-full flex justify-between items-center py-4 text-right hover:bg-gray-50 transition-colors"
      >
        <ChevronDown className={`w-5 h-5 transition-transform ${isExpanded ? 'rotate-180' : ''}`} />
        <span className="font-medium text-gray-900">{title}</span>
      </button>
      {isExpanded && (
        <div className="pb-4 pr-6">
          {children}
        </div>
      )}
    </div>
  );

  return (
    <div className={`bg-white rounded-lg shadow-sm border ${!isOpen ? 'hidden lg:block' : ''}`}>
      {/* Header */}
      <div className="p-4 border-b border-gray-100 flex justify-between items-center">
        <div className="flex items-center gap-2">
          {activeFilterCount > 0 && (
            <button
              onClick={clearAllFilters}
              className="text-red-600 text-sm hover:text-red-700"
            >
              Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡
            </button>
          )}
          {activeFilterCount > 0 && (
            <span className="bg-gold text-white text-xs px-2 py-1 rounded-full">
              {activeFilterCount}
            </span>
          )}
        </div>
        <div className="flex items-center gap-2">
          <Filter className="w-5 h-5" />
          <h3 className="font-bold text-lg">ÙÛŒÙ„ØªØ±Ù‡Ø§</h3>
        </div>
      </div>

      {/* Active Filters */}
      {activeFilterCount > 0 && (
        <div className="p-4 border-b border-gray-100">
          <div className="flex flex-wrap gap-2">
            {Object.entries(localFilters).map(([key, value]) => (
              <div
                key={key}
                className="flex items-center gap-1 bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm"
              >
                <button
                  onClick={() => clearFilter(key as keyof ActiveFilters)}
                  className="hover:text-red-600"
                >
                  <X className="w-4 h-4" />
                </button>
                <span>
                  {key === 'priceMin' || key === 'priceMax' 
                    ? formatPrice(value as number)
                    : value
                  }
                </span>
              </div>
            ))}
          </div>
        </div>
      )}

      {/* Filter Sections */}
      <div className="divide-y divide-gray-100">
        {/* Category Filter */}
        <FilterSection
          title="Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ"
          isExpanded={expandedSections.category}
          onToggle={() => toggleSection('category')}
        >
          <div className="space-y-2">
            {options.categories.map(category => (
              <label key={category} className="flex items-center justify-end gap-3 cursor-pointer">
                <span className="text-gray-700">{category}</span>
                <input
                  type="radio"
                  name="category"
                  value={category}
                  checked={localFilters.category === category}
                  onChange={(e) => updateFilter('category', e.target.value)}
                  className="w-4 h-4 text-gold border-gray-300 focus:ring-gold"
                />
              </label>
            ))}
          </div>
        </FilterSection>

        {/* Price Filter */}
        <FilterSection
          title="Ù‚ÛŒÙ…Øª"
          isExpanded={expandedSections.price}
          onToggle={() => toggleSection('price')}
        >
          <div className="space-y-4">
            <div className="grid grid-cols-2 gap-3">
              <div>
                <label className="block text-sm text-gray-600 mb-1">Ø­Ø¯Ø§Ú©Ø«Ø±</label>
                <input
                  type="number"
                  placeholder="0"
                  value={localFilters.priceMax || ''}
                  onChange={(e) => updateFilter('priceMax', e.target.value ? parseInt(e.target.value) : undefined)}
                  className="w-full px-3 py-2 border border-gray-300 rounded-md text-right focus:ring-2 focus:ring-gold focus:border-transparent"
                />
              </div>
              <div>
                <label className="block text-sm text-gray-600 mb-1">Ø­Ø¯Ø§Ù‚Ù„</label>
                <input
                  type="number"
                  placeholder="0"
                  value={localFilters.priceMin || ''}
                  onChange={(e) => updateFilter('priceMin', e.target.value ? parseInt(e.target.value) : undefined)}
                  className="w-full px-3 py-2 border border-gray-300 rounded-md text-right focus:ring-2 focus:ring-gold focus:border-transparent"
                />
              </div>
            </div>
            
            {/* Quick price filters */}
            <div className="grid grid-cols-2 gap-2 text-sm">
              {[
                { label: 'ØªØ§ Û± Ù…ÛŒÙ„ÛŒÙˆÙ†', max: 1000000 },
                { label: 'ØªØ§ Ûµ Ù…ÛŒÙ„ÛŒÙˆÙ†', max: 5000000 },
                { label: 'ØªØ§ Û±Û° Ù…ÛŒÙ„ÛŒÙˆÙ†', max: 10000000 },
                { label: 'Ø¨Ø§Ù„Ø§ÛŒ Û±Û° Ù…ÛŒÙ„ÛŒÙˆÙ†', min: 10000000 }
              ].map(price => (
                <button
                  key={price.label}
                  onClick={() => {
                    updateFilter('priceMin', price.min || undefined);
                    updateFilter('priceMax', price.max || undefined);
                  }}
                  className="px-3 py-2 text-center border border-gray-200 rounded-md hover:border-gold hover:text-gold transition-colors"
                >
                  {price.label}
                </button>
              ))}
            </div>
          </div>
        </FilterSection>

        {/* Brand Filter */}
        <FilterSection
          title="Ø¨Ø±Ù†Ø¯"
          isExpanded={expandedSections.brand}
          onToggle={() => toggleSection('brand')}
        >
          <div className="space-y-2">
            {options.brands.map(brand => (
              <label key={brand} className="flex items-center justify-end gap-3 cursor-pointer">
                <span className="text-gray-700">{brand}</span>
                <input
                  type="checkbox"
                  checked={localFilters.brand === brand}
                  onChange={(e) => updateFilter('brand', e.target.checked ? brand : undefined)}
                  className="w-4 h-4 text-gold border-gray-300 rounded focus:ring-gold"
                />
              </label>
            ))}
          </div>
        </FilterSection>

        {/* Rating Filter */}
        <FilterSection
          title="Ø§Ù…ØªÛŒØ§Ø²"
          isExpanded={expandedSections.rating}
          onToggle={() => toggleSection('rating')}
        >
          <div className="space-y-2">
            {[5, 4, 3, 2, 1].map(rating => (
              <label key={rating} className="flex items-center justify-end gap-3 cursor-pointer">
                <div className="flex items-center gap-2">
                  <span className="text-gray-700">Ùˆ Ø¨Ø§Ù„Ø§ØªØ±</span>
                  <div className="flex">
                    {[...Array(5)].map((_, i) => (
                      <span
                        key={i}
                        className={`text-lg ${i < rating ? 'text-yellow-400' : 'text-gray-300'}`}
                      >
                        â˜…
                      </span>
                    ))}
                  </div>
                </div>
                <input
                  type="radio"
                  name="rating"
                  value={rating}
                  checked={localFilters.rating === rating}
                  onChange={(e) => updateFilter('rating', parseInt(e.target.value))}
                  className="w-4 h-4 text-gold border-gray-300 focus:ring-gold"
                />
              </label>
            ))}
          </div>
        </FilterSection>
      </div>
    </div>
  );
};

export default ProductFilters;
```

### 2. Product Search Component

```typescript
// src/components/product/ProductSearch.tsx
import { useState, useEffect, useRef } from 'react';
import { Search, X, Clock, TrendingUp } from 'lucide-react';

interface SearchSuggestion {
  id: string;
  text: string;
  type: 'product' | 'category' | 'brand';
  count?: number;
}

interface ProductSearchProps {
  placeholder?: string;
  onSearch: (query: string) => void;
  suggestions?: SearchSuggestion[];
  recentSearches?: string[];
  popularSearches?: string[];
  isLoading?: boolean;
}

const ProductSearch: React.FC<ProductSearchProps> = ({
  placeholder = "Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª...",
  onSearch,
  suggestions = [],
  recentSearches = [],
  popularSearches = [],
  isLoading = false
}) => {
  const [query, setQuery] = useState('');
  const [isOpen, setIsOpen] = useState(false);
  const [highlightedIndex, setHighlightedIndex] = useState(-1);
  const inputRef = useRef<HTMLInputElement>(null);
  const suggestionsRef = useRef<HTMLDivElement>(null);

  const allSuggestions = [
    ...suggestions.map(s => ({ ...s, category: 'suggestion' })),
    ...recentSearches.map(s => ({ 
      id: s, 
      text: s, 
      type: 'recent' as const, 
      category: 'recent' 
    })),
    ...popularSearches.map(s => ({ 
      id: s, 
      text: s, 
      type: 'popular' as const, 
      category: 'popular' 
    }))
  ];

  const filteredSuggestions = query.length > 0 
    ? suggestions.filter(s => 
        s.text.toLowerCase().includes(query.toLowerCase()) ||
        s.text.includes(query)
      )
    : allSuggestions;

  const handleSearch = (searchQuery: string) => {
    if (searchQuery.trim()) {
      onSearch(searchQuery.trim());
      setQuery(searchQuery);
      setIsOpen(false);
      
      // Add to recent searches (in real app, this would be persisted)
      if (!recentSearches.includes(searchQuery)) {
        recentSearches.unshift(searchQuery);
      }
    }
  };

  const handleKeyDown = (e: React.KeyboardEvent) => {
    if (e.key === 'ArrowDown') {
      e.preventDefault();
      setHighlightedIndex(prev => 
        prev < filteredSuggestions.length - 1 ? prev + 1 : prev
      );
    } else if (e.key === 'ArrowUp') {
      e.preventDefault();
      setHighlightedIndex(prev => prev > 0 ? prev - 1 : prev);
    } else if (e.key === 'Enter') {
      e.preventDefault();
      if (highlightedIndex >= 0) {
        handleSearch(filteredSuggestions[highlightedIndex].text);
      } else {
        handleSearch(query);
      }
    } else if (e.key === 'Escape') {
      setIsOpen(false);
      inputRef.current?.blur();
    }
  };

  const clearQuery = () => {
    setQuery('');
    inputRef.current?.focus();
  };

  useEffect(() => {
    if (highlightedIndex >= 0 && suggestionsRef.current) {
      const highlighted = suggestionsRef.current.children[highlightedIndex] as HTMLElement;
      if (highlighted) {
        highlighted.scrollIntoView({ block: 'nearest' });
      }
    }
  }, [highlightedIndex]);

  const getSuggestionIcon = (type: string) => {
    switch (type) {
      case 'recent':
        return <Clock className="w-4 h-4 text-gray-400" />;
      case 'popular':
        return <TrendingUp className="w-4 h-4 text-gold" />;
      default:
        return <Search className="w-4 h-4 text-gray-400" />;
    }
  };

  return (
    <div className="relative w-full max-w-2xl mx-auto">
      {/* Search Input */}
      <div className="relative">
        <div className="absolute right-4 top-1/2 transform -translate-y-1/2">
          <Search className="w-5 h-5 text-gray-400" />
        </div>
        
        <input
          ref={inputRef}
          type="text"
          value={query}
          onChange={(e) => setQuery(e.target.value)}
          onFocus={() => setIsOpen(true)}
          onKeyDown={handleKeyDown}
          placeholder={placeholder}
          className="w-full h-12 pr-12 pl-12 text-right bg-white border-2 border-gray-200 rounded-full focus:border-gold focus:ring-4 focus:ring-gold/20 transition-all text-lg"
          dir="rtl"
        />

        {query && (
          <button
            onClick={clearQuery}
            className="absolute left-4 top-1/2 transform -translate-y-1/2 hover:text-red-600 transition-colors"
          >
            <X className="w-5 h-5" />
          </button>
        )}

        {isLoading && (
          <div className="absolute left-4 top-1/2 transform -translate-y-1/2">
            <div className="w-5 h-5 border-2 border-gold border-t-transparent rounded-full animate-spin"></div>
          </div>
        )}
      </div>

      {/* Search Suggestions Dropdown */}
      {isOpen && (
        <>
          <div 
            className="fixed inset-0 z-10" 
            onClick={() => setIsOpen(false)}
          />
          
          <div 
            ref={suggestionsRef}
            className="absolute top-full mt-2 w-full bg-white border border-gray-200 rounded-lg shadow-xl z-20 max-h-96 overflow-y-auto"
          >
            {filteredSuggestions.length === 0 && query ? (
              <div className="p-4 text-center text-gray-500">
                Ù†ØªÛŒØ¬Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯
              </div>
            ) : (
              <div className="py-2">
                {/* Recent Searches */}
                {query.length === 0 && recentSearches.length > 0 && (
                  <div className="px-4 py-2">
                    <h4 className="text-sm font-medium text-gray-500 mb-2 text-right">
                      Ø¬Ø³ØªØ¬ÙˆÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ±
                    </h4>
                    {recentSearches.slice(0, 3).map((search, index) => (
                      <button
                        key={`recent-${search}`}
                        onClick={() => handleSearch(search)}
                        className={`w-full px-4 py-2 text-right hover:bg-gray-50 flex items-center justify-end gap-3 ${
                          highlightedIndex === index ? 'bg-gray-50' : ''
                        }`}
                      >
                        <span className="text-gray-700">{search}</span>
                        <Clock className="w-4 h-4 text-gray-400" />
                      </button>
                    ))}
                  </div>
                )}

                {/* Popular Searches */}
                {query.length === 0 && popularSearches.length > 0 && (
                  <div className="px-4 py-2 border-t border-gray-100">
                    <h4 className="text-sm font-medium text-gray-500 mb-2 text-right">
                      Ø¬Ø³ØªØ¬ÙˆÙ‡Ø§ÛŒ Ù¾Ø±Ø·Ø±ÙØ¯Ø§Ø±
                    </h4>
                    {popularSearches.slice(0, 5).map((search, index) => (
                      <button
                        key={`popular-${search}`}
                        onClick={() => handleSearch(search)}
                        className={`w-full px-4 py-2 text-right hover:bg-gray-50 flex items-center justify-end gap-3 ${
                          highlightedIndex === recentSearches.length + index ? 'bg-gray-50' : ''
                        }`}
                      >
                        <span className="text-gray-700">{search}</span>
                        <TrendingUp className="w-4 h-4 text-gold" />
                      </button>
                    ))}
                  </div>
                )}

                {/* Suggestions */}
                {filteredSuggestions.filter(s => s.category === 'suggestion').map((suggestion, index) => (
                  <button
                    key={suggestion.id}
                    onClick={() => handleSearch(suggestion.text)}
                    className={`w-full px-4 py-2 text-right hover:bg-gray-50 flex items-center justify-between ${
                      highlightedIndex === index ? 'bg-gray-50' : ''
                    }`}
                  >
                    <div className="flex items-center gap-2">
                      {suggestion.count && (
                        <span className="text-xs text-gray-400">
                          ({new Intl.NumberFormat('fa-IR').format(suggestion.count)})
                        </span>
                      )}
                      <span className="text-xs text-gray-400 capitalize">
                        {suggestion.type === 'product' ? 'Ù…Ø­ØµÙˆÙ„' : 
                         suggestion.type === 'category' ? 'Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ' : 'Ø¨Ø±Ù†Ø¯'}
                      </span>
                    </div>
                    
                    <div className="flex items-center gap-3">
                      <span className="text-gray-700">{suggestion.text}</span>
                      {getSuggestionIcon(suggestion.type)}
                    </div>
                  </button>
                ))}
              </div>
            )}
          </div>
        </>
      )}
    </div>
  );
};

export default ProductSearch;
```

### 3. Product Detail Component

```typescript
// src/components/product/ProductDetail.tsx
import { useState, useEffect } from 'react';
import { 
  Heart, 
  Share2, 
  ShoppingCart, 
  Plus, 
  Minus, 
  Star,
  Truck,
  Shield,
  RotateCcw,
  Eye,
  ChevronLeft,
  ChevronRight,
  X
} from 'lucide-react';

interface ProductImage {
  id: string;
  url: string;
  alt: string;
  isPrimary?: boolean;
}

interface ProductVariant {
  id: string;
  name: string;
  value: string;
  available: boolean;
  price?: number;
}

interface ProductReview {
  id: string;
  user: string;
  rating: number;
  comment: string;
  date: string;
  verified: boolean;
}

interface Product {
  id: string;
  name: string;
  slug: string;
  description: string;
  price: number;
  originalPrice?: number;
  currency: string;
  images: ProductImage[];
  variants: {
    colors?: ProductVariant[];
    sizes?: ProductVariant[];
    [key: string]: ProductVariant[] | undefined;
  };
  specifications: { [key: string]: string };
  reviews: ProductReview[];
  rating: number;
  reviewCount: number;
  inStock: boolean;
  stockCount?: number;
  brand: string;
  category: string;
  tags: string[];
  shipping: {
    freeShipping: boolean;
    estimatedDays: number;
    locations: string[];
  };
  warranty: string;
  returnPolicy: string;
}

interface ProductDetailProps {
  product: Product;
  relatedProducts?: Product[];
  onAddToCart: (productId: string, quantity: number, variants: any) => void;
  onToggleWishlist: (productId: string) => void;
  isInWishlist?: boolean;
}

const ProductDetail: React.FC<ProductDetailProps> = ({
  product,
  relatedProducts = [],
  onAddToCart,
  onToggleWishlist,
  isInWishlist = false
}) => {
  const [selectedImage, setSelectedImage] = useState(0);
  const [selectedVariants, setSelectedVariants] = useState<{[key: string]: string}>({});
  const [quantity, setQuantity] = useState(1);
  const [showLightbox, setShowLightbox] = useState(false);
  const [activeTab, setActiveTab] = useState<'description' | 'specs' | 'reviews'>('description');

  const formatPrice = (price: number): string => {
    return new Intl.NumberFormat('fa-IR').format(price) + ' Ø±ÛŒØ§Ù„';
  };

  const formatPriceInToman = (price: number): string => {
    return new Intl.NumberFormat('fa-IR').format(price / 10) + ' ØªÙˆÙ…Ø§Ù†';
  };

  const calculateDiscount = (): number => {
    if (product.originalPrice && product.price < product.originalPrice) {
      return Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100);
    }
    return 0;
  };

  const handleVariantChange = (type: string, value: string) => {
    setSelectedVariants(prev => ({
      ...prev,
      [type]: value
    }));
  };

  const handleAddToCart = () => {
    if (product.inStock) {
      onAddToCart(product.id, quantity, selectedVariants);
    }
  };

  const canAddToCart = (): boolean => {
    if (!product.inStock) return false;
    
    // Check if required variants are selected
    const requiredVariants = Object.keys(product.variants);
    for (const variantType of requiredVariants) {
      if (product.variants[variantType]?.length && !selectedVariants[variantType]) {
        return false;
      }
    }
    
    return true;
  };

  const ImageGallery = () => (
    <div className="space-y-4">
      {/* Main Image */}
      <div className="relative aspect-square bg-gray-100 rounded-lg overflow-hidden group">
        <img
          src={product.images[selectedImage]?.url}
          alt={product.images[selectedImage]?.alt}
          className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
        />
        
        {/* Zoom Button */}
        <button
          onClick={() => setShowLightbox(true)}
          className="absolute top-4 left-4 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors"
        >
          <Eye className="w-5 h-5" />
        </button>

        {/* Discount Badge */}
        {calculateDiscount() > 0 && (
          <div className="absolute top-4 right-4 bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold">
            {calculateDiscount()}% ØªØ®ÙÛŒÙ
          </div>
        )}

        {/* Navigation Arrows */}
        {product.images.length > 1 && (
          <>
            <button
              onClick={() => setSelectedImage(prev => 
                prev > 0 ? prev - 1 : product.images.length - 1
              )}
              className="absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors"
            >
              <ChevronLeft className="w-5 h-5" />
            </button>
            <button
              onClick={() => setSelectedImage(prev => 
                prev < product.images.length - 1 ? prev + 1 : 0
              )}
              className="absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors"
            >
              <ChevronRight className="w-5 h-5" />
            </button>
          </>
        )}
      </div>

      {/* Thumbnail Images */}
      {product.images.length > 1 && (
        <div className="flex gap-2 overflow-x-auto pb-2">
          {product.images.map((image, index) => (
            <button
              key={image.id}
              onClick={() => setSelectedImage(index)}
              className={`flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-colors ${
                selectedImage === index 
                  ? 'border-gold' 
                  : 'border-gray-200 hover:border-gray-300'
              }`}
            >
              <img
                src={image.url}
                alt={image.alt}
                className="w-full h-full object-cover"
              />
            </button>
          ))}
        </div>
      )}
    </div>
  );

  const ProductInfo = () => (
    <div className="space-y-6">
      {/* Title and Brand */}
      <div className="text-right">
        <p className="text-gold font-medium mb-2">{product.brand}</p>
        <h1 className="text-2xl lg:text-3xl font-bold text-gray-900 leading-tight">
          {product.name}
        </h1>
      </div>

      {/* Rating */}
      <div className="flex items-center justify-end gap-4">
        <span className="text-gray-600">
          ({new Intl.NumberFormat('fa-IR').format(product.reviewCount)} Ù†Ø¸Ø±)
        </span>
        <div className="flex items-center gap-2">
          <span className="font-bold text-lg">
            {product.rating.toFixed(1)}
          </span>
          <div className="flex">
            {[...Array(5)].map((_, i) => (
              <Star
                key={i}
                className={`w-5 h-5 ${
                  i < Math.floor(product.rating) 
                    ? 'text-yellow-400 fill-current'
                    : 'text-gray-300'
                }`}
              />
            ))}
          </div>
        </div>
      </div>

      {/* Price */}
      <div className="text-right">
        <div className="flex items-center justify-end gap-4 mb-2">
          <div className="text-right">
            <div className="text-3xl font-bold text-gray-900">
              {formatPrice(product.price)}
            </div>
            <div className="text-lg text-gray-600">
              {formatPriceInToman(product.price)}
            </div>
          </div>
          {product.originalPrice && product.originalPrice > product.price && (
            <div className="text-gray-400 line-through">
              {formatPrice(product.originalPrice)}
            </div>
          )}
        </div>
      </div>

      {/* Variants */}
      {Object.entries(product.variants).map(([type, variants]) => (
        variants && variants.length > 0 && (
          <div key={type} className="text-right">
            <h3 className="font-medium text-gray-900 mb-3 capitalize">
              {type === 'colors' ? 'Ø±Ù†Ú¯' : 
               type === 'sizes' ? 'Ø³Ø§ÛŒØ²' : type}:
              {selectedVariants[type] && (
                <span className="font-normal text-gray-600 mr-2">
                  {variants.find(v => v.id === selectedVariants[type])?.name}
                </span>
              )}
            </h3>
            <div className="flex flex-wrap gap-2 justify-end">
              {variants.map(variant => (
                <button
                  key={variant.id}
                  onClick={() => handleVariantChange(type, variant.id)}
                  disabled={!variant.available}
                  className={`px-4 py-2 rounded-md border transition-colors ${
                    selectedVariants[type] === variant.id
                      ? 'border-gold bg-gold text-white'
                      : variant.available
                      ? 'border-gray-300 hover:border-gray-400'
                      : 'border-gray-200 text-gray-400 cursor-not-allowed'
                  } ${
                    type === 'colors' && variant.value.startsWith('#')
                      ? 'w-12 h-12 rounded-full p-0 border-2'
                      : ''
                  }`}
                  style={
                    type === 'colors' && variant.value.startsWith('#')
                      ? { backgroundColor: variant.value }
                      : {}
                  }
                >
                  {type === 'colors' && variant.value.startsWith('#') 
                    ? '' 
                    : variant.name
                  }
                </button>
              ))}
            </div>
          </div>
        )
      ))}

      {/* Quantity and Stock */}
      <div className="flex items-center justify-between">
        <div className="flex items-center gap-3">
          <button
            onClick={() => setQuantity(Math.max(1, quantity - 1))}
            className="w-10 h-10 flex items-center justify-center border border-gray-300 rounded-md hover:border-gray-400 transition-colors"
          >
            <Minus className="w-4 h-4" />
          </button>
          <span className="text-xl font-medium min-w-[3rem] text-center">
            {new Intl.NumberFormat('fa-IR').format(quantity)}
          </span>
          <button
            onClick={() => setQuantity(quantity + 1)}
            disabled={product.stockCount && quantity >= product.stockCount}
            className="w-10 h-10 flex items-center justify-center border border-gray-300 rounded-md hover:border-gray-400 transition-colors disabled:opacity-50"
          >
            <Plus className="w-4 h-4" />
          </button>
        </div>

        <div className="text-right">
          {product.inStock ? (
            <div className="text-green-600">
              <span>Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ø§Ù†Ø¨Ø§Ø±</span>
              {product.stockCount && (
                <span className="text-gray-600 text-sm mr-2">
                  ({new Intl.NumberFormat('fa-IR').format(product.stockCount)} Ø¹Ø¯Ø¯)
                </span>
              )}
            </div>
          ) : (
            <div className="text-red-600">Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯</div>
          )}
        </div>
      </div>

      {/* Action Buttons */}
      <div className="space-y-3">
        <button
          onClick={handleAddToCart}
          disabled={!canAddToCart()}
          className="w-full bg-gold text-white py-4 rounded-lg font-bold text-lg hover:bg-gold/90 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2"
        >
          <ShoppingCart className="w-6 h-6" />
          {product.inStock ? 'Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯' : 'Ù†Ø§Ù…ÙˆØ¬ÙˆØ¯'}
        </button>

        <div className="grid grid-cols-2 gap-3">
          <button
            onClick={() => onToggleWishlist(product.id)}
            className={`flex items-center justify-center gap-2 py-3 rounded-lg border transition-colors ${
              isInWishlist
                ? 'border-red-500 text-red-500 bg-red-50'
                : 'border-gray-300 text-gray-700 hover:border-gray-400'
            }`}
          >
            <Heart className={`w-5 h-5 ${isInWishlist ? 'fill-current' : ''}`} />
            {isInWishlist ? 'Ø­Ø°Ù Ø§Ø² Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§' : 'Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§'}
          </button>

          <button className="flex items-center justify-center gap-2 py-3 rounded-lg border border-gray-300 text-gray-700 hover:border-gray-400 transition-colors">
            <Share2 className="w-5 h-5" />
            Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ
          </button>
        </div>
      </div>

      {/* Shipping & Services */}
      <div className="bg-gray-50 rounded-lg p-4 space-y-3">
        <div className="flex items-center justify-end gap-3 text-green-600">
          <span>Ø§Ø±Ø³Ø§Ù„ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯Ù‡Ø§ÛŒ Ø¨Ø§Ù„Ø§ÛŒ ÛµÛ°Û° Ù‡Ø²Ø§Ø± ØªÙˆÙ…Ø§Ù†</span>
          <Truck className="w-5 h-5" />
        </div>
        
        <div className="flex items-center justify-end gap-3 text-blue-600">
          <span>Ú¯Ø§Ø±Ø§Ù†ØªÛŒ {product.warranty}</span>
          <Shield className="w-5 h-5" />
        </div>
        
        <div className="flex items-center justify-end gap-3 text-orange-600">
          <span>Ø§Ù…Ú©Ø§Ù† Ø¨Ø§Ø²Ú¯Ø´Øª ØªØ§ Û· Ø±ÙˆØ²</span>
          <RotateCcw className="w-5 h-5" />
        </div>
      </div>
    </div>
  );

  const ProductTabs = () => (
    <div className="mt-12">
      {/* Tab Headers */}
      <div className="border-b border-gray-200">
        <nav className="flex gap-8 justify-end">
          {[
            { key: 'description', label: 'ØªÙˆØ¶ÛŒØ­Ø§Øª' },
            { key: 'specs', label: 'Ù…Ø´Ø®ØµØ§Øª ÙÙ†ÛŒ' },
            { key: 'reviews', label: 'Ù†Ø¸Ø±Ø§Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†' }
          ].map(tab => (
            <button
              key={tab.key}
              onClick={() => setActiveTab(tab.key as any)}
              className={`py-4 px-2 border-b-2 font-medium transition-colors ${
                activeTab === tab.key
                  ? 'border-gold text-gold'
                  : 'border-transparent text-gray-600 hover:text-gray-900'
              }`}
            >
              {tab.label}
              {tab.key === 'reviews' && (
                <span className="mr-2 text-sm text-gray-500">
                  ({new Intl.NumberFormat('fa-IR').format(product.reviewCount)})
                </span>
              )}
            </button>
          ))}
        </nav>
      </div>

      {/* Tab Content */}
      <div className="py-6">
        {activeTab === 'description' && (
          <div className="text-right space-y-4">
            <div className="prose prose-lg max-w-none text-right" dir="rtl">
              {product.description.split('\n').map((paragraph, index) => (
                <p key={index} className="mb-4 leading-relaxed">
                  {paragraph}
                </p>
              ))}
            </div>
          </div>
        )}

        {activeTab === 'specs' && (
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            {Object.entries(product.specifications).map(([key, value]) => (
              <div key={key} className="flex justify-between items-center py-3 px-4 bg-gray-50 rounded-lg">
                <span className="font-medium text-gray-900">{value}</span>
                <span className="text-gray-600">{key}</span>
              </div>
            ))}
          </div>
        )}

        {activeTab === 'reviews' && (
          <div className="space-y-6">
            {/* Reviews Summary */}
            <div className="bg-gray-50 rounded-lg p-6 text-center">
              <div className="text-4xl font-bold text-gray-900 mb-2">
                {product.rating.toFixed(1)}
              </div>
              <div className="flex justify-center mb-2">
                {[...Array(5)].map((_, i) => (
                  <Star
                    key={i}
                    className={`w-6 h-6 ${
                      i < Math.floor(product.rating)
                        ? 'text-yellow-400 fill-current'
                        : 'text-gray-300'
                    }`}
                  />
                ))}
              </div>
              <p className="text-gray-600">
                Ø§Ø² {new Intl.NumberFormat('fa-IR').format(product.reviewCount)} Ù†Ø¸Ø±
              </p>
            </div>

            {/* Individual Reviews */}
            <div className="space-y-6">
              {product.reviews.map(review => (
                <div key={review.id} className="border-b border-gray-200 pb-6 last:border-b-0">
                  <div className="flex justify-between items-start mb-3">
                    <div className="text-sm text-gray-500">
                      {new Intl.DateTimeFormat('fa-IR').format(new Date(review.date))}
                      {review.verified && (
                        <span className="mr-2 text-green-600">âœ“ Ø®Ø±ÛŒØ¯ ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡</span>
                      )}
                    </div>
                    <div className="text-right">
                      <div className="font-medium text-gray-900 mb-1">{review.user}</div>
                      <div className="flex">
                        {[...Array(5)].map((_, i) => (
                          <Star
                            key={i}
                            className={`w-4 h-4 ${
                              i < review.rating
                                ? 'text-yellow-400 fill-current'
                                : 'text-gray-300'
                            }`}
                          />
                        ))}
                      </div>
                    </div>
                  </div>
                  <p className="text-gray-700 text-right leading-relaxed" dir="rtl">
                    {review.comment}
                  </p>
                </div>
              ))}
            </div>
          </div>
        )}
      </div>
    </div>
  );

  return (
    <>
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-12">
          {/* Image Gallery */}
          <div>
            <ImageGallery />
          </div>

          {/* Product Info */}
          <div>
            <ProductInfo />
          </div>
        </div>

        {/* Product Tabs */}
        <ProductTabs />

        {/* Related Products */}
        {relatedProducts.length > 0 && (
          <div className="mt-16">
            <h2 className="text-2xl font-bold text-gray-900 mb-8 text-right">
              Ù…Ø­ØµÙˆÙ„Ø§Øª Ù…Ø±ØªØ¨Ø·
            </h2>
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
              {relatedProducts.slice(0, 4).map(relatedProduct => (
                <div key={relatedProduct.id} className="bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow">
                  <div className="aspect-square bg-gray-100 rounded-t-lg overflow-hidden">
                    <img
                      src={relatedProduct.images[0]?.url}
                      alt={relatedProduct.name}
                                                  className="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
                          />
                        </div>
                        <div className="p-4 text-right">
                          <h3 className="font-medium text-gray-900 mb-1 line-clamp-2">
                            {product.name}
                          </h3>
                          <p className="text-sm text-gray-600 mb-2">{product.brand}</p>
                          <div className="flex items-center justify-end gap-2 mb-3">
                            <span className="text-sm text-gray-500">
                              ({new Intl.NumberFormat('fa-IR').format(product.reviewCount)})
                            </span>
                            <div className="flex">
                              {[...Array(5)].map((_, i) => (
                                <span
                                  key={i}
                                  className={`text-sm ${
                                    i < Math.floor(product.rating) 
                                      ? 'text-yellow-400' 
                                      : 'text-gray-300'
                                  }`}
                                >
                                  â˜…
                                </span>
                              ))}
                            </div>
                          </div>
                          <div className="text-gold font-bold">
                            {new Intl.NumberFormat('fa-IR').format(product.price)} Ø±ÛŒØ§Ù„
                          </div>
                        </div>
                      </div>
                    ))}
                  </div>

                  {hasMore && (
                    <div className="text-center mt-8">
                      <button
                        onClick={loadMore}
                        disabled={isLoading}
                        className="px-8 py-3 bg-gold text-white rounded-lg hover:bg-gold/90 disabled:opacity-50 flex items-center gap-2 mx-auto"
                      >
                        {isLoading ? (
                          <>
                            <div className="w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
                            Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...
                          </>
                        ) : (
                          'Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù†ØªØ§ÛŒØ¬ Ø¨ÛŒØ´ØªØ±'
                        )}
                      </button>
                    </div>
                  )}
                </>
              ) : query && !isLoading ? (
                <div className="bg-white rounded-lg shadow-sm border p-12 text-center">
                  <div className="text-6xl text-gray-300 mb-4">ğŸ”</div>
                  <h3 className="text-xl font-bold text-gray-900 mb-2">
                    Ù†ØªÛŒØ¬Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯
                  </h3>
                  <p className="text-gray-600 mb-6">
                    Ù…ØªØ£Ø³ÙØ§Ù†Ù‡ Ù†ØªÛŒØ¬Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø¬Ø³ØªØ¬ÙˆÛŒ Ø´Ù…Ø§ ÛŒØ§ÙØª Ù†Ø´Ø¯. Ù„Ø·ÙØ§Ù‹ Ú©Ù„Ù…Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ Ø¯ÛŒÚ¯Ø±ÛŒ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.
                  </p>
                  <div className="space-y-4">
                    <div className="text-right" dir="rtl">
                      <h4 className="font-medium text-gray-900 mb-2">Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª:</h4>
                      <ul className="text-gray-600 space-y-1">
                        <li>â€¢ Ø§Ø² Ú©Ù„Ù…Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ Ù…Ø®ØªÙ„Ù Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                        <li>â€¢ Ø§Ù…Ù„Ø§ÛŒ Ú©Ù„Ù…Ø§Øª Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯</li>
                        <li>â€¢ Ø§Ø² Ú©Ù„Ù…Ø§Øª Ú©Ù„ÛŒâ€ŒØªØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯</li>
                        <li>â€¢ ÙÛŒÙ„ØªØ±Ù‡Ø§ÛŒ Ø§Ø¹Ù…Ø§Ù„ Ø´Ø¯Ù‡ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯</li>
                      </ul>
                    </div>
                    <div className="flex flex-wrap gap-2 justify-center">
                      {['Ú¯ÙˆØ´ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„', 'Ù„Ù¾â€ŒØªØ§Ù¾', 'Ù‡Ø¯ÙÙˆÙ†', 'Ø³Ø§Ø¹Øª Ù‡ÙˆØ´Ù…Ù†Ø¯', 'ØªÙ„ÙˆÛŒØ²ÛŒÙˆÙ†'].map(suggestion => (
                        <button
                          key={suggestion}
                          onClick={() => setQuery(suggestion)}
                          className="px-4 py-2 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors text-sm"
                        >
                          {suggestion}
                        </button>
                      ))}
                    </div>
                  </div>
                </div>
              ) : !query ? (
                <div className="bg-white rounded-lg shadow-sm border p-12 text-center">
                  <div className="text-6xl text-gray-300 mb-4">ğŸ”</div>
                  <h3 className="text-xl font-bold text-gray-900 mb-2">
                    Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± ÃÂ± Store
                  </h3>
                  <p className="text-gray-600 mb-6">
                    Ù…Ø­ØµÙˆÙ„ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø¬Ø³ØªØ¬Ùˆ Ú©Ù†ÛŒØ¯
                  </p>
                  <div className="flex flex-wrap gap-2 justify-center">
                    <h4 className="w-full font-medium text-gray-900 mb-2">Ø¬Ø³ØªØ¬ÙˆÙ‡Ø§ÛŒ Ù¾Ø±Ø·Ø±ÙØ¯Ø§Ø±:</h4>
                    {['Samsung Galaxy', 'MacBook', 'AirPods', 'PlayStation', 'Nintendo'].map(popular => (
                      <button
                        key={popular}
                        onClick={() => setQuery(popular)}
                        className="px-4 py-2 bg-gold/10 text-gold rounded-full hover:bg-gold/20 transition-colors text-sm"
                      >
                        {popular}
                      </button>
                    ))}
                  </div>
                </div>
              ) : null}
            </div>
          </div>
        </div>
      </div>
    </>
  );
};

export const getServerSideProps: GetServerSideProps = async ({ query }) => {
  const initialQuery = query.q as string || '';

  const filterOptions = {
    categories: ['Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©', 'Ù„Ø¨Ø§Ø³', 'Ø®Ø§Ù†Ù‡', 'ÙˆØ±Ø²Ø´', 'Ø¬ÙˆØ§Ù‡Ø±Ø§Øª'],
    priceRange: [0, 100000000] as [number, number],
    brands: ['Samsung', 'Apple', 'Xiaomi', 'Huawei', 'LG', 'Sony'],
    colors: [
      { id: 'black', name: 'Ù…Ø´Ú©ÛŒ', value: '#000000' },
      { id: 'white', name: 'Ø³ÙÛŒØ¯', value: '#FFFFFF' },
      { id: 'blue', name: 'Ø¢Ø¨ÛŒ', value: '#0066CC' }
    ],
    sizes: [
      { id: 'xs', name: 'XS' },
      { id: 's', name: 'S' },
      { id: 'm', name: 'M' },
      { id: 'l', name: 'L' },
      { id: 'xl', name: 'XL' }
    ],
    ratings: [5, 4, 3, 2, 1]
  };

  return {
    props: {
      initialQuery,
      filterOptions
    }
  };
};

export default SearchPage;
```

## 8. Sample Data & Configuration

```typescript
// src/data/sampleData.ts
export const sampleCategories = [
  {
    id: '1',
    name: 'Ù„Ø¨Ø§Ø³',
    slug: 'clothing',
    icon: 'ğŸ‘•',
    description: 'Ø¢Ø®Ø±ÛŒÙ† Ù…Ø¯ Ù„Ø¨Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ù…Ø±Ø¯Ø§Ù†Ù‡ Ùˆ Ø²Ù†Ø§Ù†Ù‡',
    subcategories: [
      { id: '1-1', name: 'Ù„Ø¨Ø§Ø³ Ù…Ø±Ø¯Ø§Ù†Ù‡', slug: 'mens-clothing', count: 234 },
      { id: '1-2', name: 'Ù„Ø¨Ø§Ø³ Ø²Ù†Ø§Ù†Ù‡', slug: 'womens-clothing', count: 456 },
      { id: '1-3', name: 'Ú©ÙØ´', slug: 'shoes', count: 189 },
      { id: '1-4', name: 'Ø§Ú©Ø³Ø³ÙˆØ±ÛŒ', slug: 'accessories', count: 123 }
    ],
    featured: true
  },
  {
    id: '2',
    name: 'Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©',
    slug: 'electronics',
    icon: 'ğŸ“±',
    description: 'Ø¬Ø¯ÛŒØ¯ØªØ±ÛŒÙ† ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„',
    subcategories: [
      { id: '2-1', name: 'Ú¯ÙˆØ´ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„', slug: 'mobile-phones', count: 156 },
      { id: '2-2', name: 'Ù„Ù¾â€ŒØªØ§Ù¾', slug: 'laptops', count: 89 },
      { id: '2-3', name: 'ØªØ¨Ù„Øª', slug: 'tablets', count: 67 },
      { id: '2-4', name: 'Ù‡Ø¯ÙÙˆÙ†', slug: 'headphones', count: 134 }
    ],
    featured: true
  },
  {
    id: '3',
    name: 'Ø®Ø§Ù†Ù‡ Ùˆ Ø¢Ø´Ù¾Ø²Ø®Ø§Ù†Ù‡',
    slug: 'home',
    icon: 'ğŸ ',
    description: 'Ù„ÙˆØ§Ø²Ù… Ø®Ø§Ù†Ú¯ÛŒ Ùˆ Ø¯Ú©ÙˆØ±Ø§Ø³ÛŒÙˆÙ†',
    subcategories: [
      { id: '3-1', name: 'Ù„ÙˆØ§Ø²Ù… Ø¢Ø´Ù¾Ø²Ø®Ø§Ù†Ù‡', slug: 'kitchen', count: 298 },
      { id: '3-2', name: 'Ù…Ø¨Ù„Ù…Ø§Ù†', slug: 'furniture', count: 145 },
      { id: '3-3', name: 'Ø¯Ú©ÙˆØ±Ø§Ø³ÛŒÙˆÙ†', slug: 'decoration', count: 167 },
      { id: '3-4', name: 'Ø­Ù…Ø§Ù…', slug: 'bathroom', count: 89 }
    ],
    featured: false
  },
  {
    id: '4',
    name: 'ÙˆØ±Ø²Ø´',
    slug: 'sports',
    icon: 'âš½',
    description: 'ØªØ¬Ù‡ÛŒØ²Ø§Øª ÙˆØ±Ø²Ø´ÛŒ Ùˆ Ø³Ø±Ú¯Ø±Ù…ÛŒ',
    subcategories: [
      { id: '4-1', name: 'ÙÛŒØªÙ†Ø³', slug: 'fitness', count: 123 },
      { id: '4-2', name: 'ÙˆØ±Ø²Ø´â€ŒÙ‡Ø§ÛŒ Ø¢Ø¨ÛŒ', slug: 'water-sports', count: 67 },
      { id: '4-3', name: 'Ú©ÙˆÙ‡Ù†ÙˆØ±Ø¯ÛŒ', slug: 'hiking', count: 89 },
      { id: '4-4', name: 'Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒØ¯Ø¦ÙˆÛŒÛŒ', slug: 'gaming', count: 156 }
    ],
    featured: false
  },
  {
    id: '5',
    name: 'Ø¬ÙˆØ§Ù‡Ø±Ø§Øª',
    slug: 'jewelry',
    icon: 'ğŸ’',
    description: 'Ø²ÛŒÙˆØ±Ø¢Ù„Ø§Øª Ø·Ù„Ø§ Ùˆ Ù†Ù‚Ø±Ù‡',
    subcategories: [
      { id: '5-1', name: 'Ø§Ù†Ú¯Ø´ØªØ±', slug: 'rings', count: 78 },
      { id: '5-2', name: 'Ú¯Ø±Ø¯Ù†Ø¨Ù†Ø¯', slug: 'necklaces', count: 89 },
      { id: '5-3', name: 'Ú¯ÙˆØ´ÙˆØ§Ø±Ù‡', slug: 'earrings', count: 67 },
      { id: '5-4', name: 'Ø³Ø§Ø¹Øª', slug: 'watches', count: 134 }
    ],
    featured: true
  }
];

export const sampleProducts = [
  {
    id: '1',
    name: 'Ú¯ÙˆØ´ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø³Ø§Ù…Ø³ÙˆÙ†Ú¯ Galaxy S24 Ultra',
    slug: 'samsung-galaxy-s24-ultra',
    description: 'Ù¾ÛŒØ´Ø±ÙØªÙ‡â€ŒØªØ±ÛŒÙ† Ú¯ÙˆØ´ÛŒ Ø³Ø§Ù…Ø³ÙˆÙ†Ú¯ Ø¨Ø§ Ø¯ÙˆØ±Ø¨ÛŒÙ† 200 Ù…Ú¯Ø§Ù¾ÛŒÚ©Ø³Ù„ÛŒ Ùˆ Ù†Ù…Ø§ÛŒØ´Ú¯Ø± Dynamic AMOLED 2X',
    shortDescription: 'Ú¯ÙˆØ´ÛŒ Ù¾Ø±Ú†Ù…Ø¯Ø§Ø± Ø³Ø§Ù…Ø³ÙˆÙ†Ú¯ Ø¨Ø§ Ø¯ÙˆØ±Ø¨ÛŒÙ† ÙÙˆÙ‚â€ŒØ§Ù„Ø¹Ø§Ø¯Ù‡ Ùˆ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¨Ø§Ù„Ø§',
    price: 65000000,
    originalPrice: 75000000,
    currency: 'IRR',
    images: [
      {
        id: '1-1',
        url: '/images/products/samsung-s24-ultra-1.jpg',
        alt: 'Samsung Galaxy S24 Ultra - Ù†Ù…Ø§ÛŒ Ø¬Ù„Ùˆ',
        isPrimary: true
      },
      {
        id: '1-2',
        url: '/images/products/samsung-s24-ultra-2.jpg',
        alt: 'Samsung Galaxy S24 Ultra - Ù†Ù…Ø§ÛŒ Ù¾Ø´Øª'
      },
      {
        id: '1-3',
        url: '/images/products/samsung-s24-ultra-3.jpg',
        alt: 'Samsung Galaxy S24 Ultra - Ù†Ù…Ø§ÛŒ Ú©Ù†Ø§Ø±ÛŒ'
      },
      {
        id: '1-4',
        url: '/images/products/samsung-s24-ultra-4.jpg',
        alt: 'Samsung Galaxy S24 Ultra - Ø§Ú©Ø³Ø³ÙˆØ±ÛŒâ€ŒÙ‡Ø§'
      }
    ],
    variants: {
      colors: [
        { id: 'titanium-black', name: 'ØªÛŒØªØ§Ù†ÛŒÙˆÙ… Ù…Ø´Ú©ÛŒ', value: '#2C3E50', available: true },
        { id: 'titanium-gray', name: 'ØªÛŒØªØ§Ù†ÛŒÙˆÙ… Ø®Ø§Ú©Ø³ØªØ±ÛŒ', value: '#7F8C8D', available: true },
        { id: 'titanium-violet', name: 'ØªÛŒØªØ§Ù†ÛŒÙˆÙ… Ø¨Ù†ÙØ´', value: '#8E44AD', available: false },
        { id: 'titanium-yellow', name: 'ØªÛŒØªØ§Ù†ÛŒÙˆÙ… Ø·Ù„Ø§ÛŒÛŒ', value: '#F39C12', available: true }
      ],
      storage: [
        { id: '256gb', name: '256 Ú¯ÛŒÚ¯Ø§Ø¨Ø§ÛŒØª', value: '256GB', available: true, price: 65000000 },
        { id: '512gb', name: '512 Ú¯ÛŒÚ¯Ø§Ø¨Ø§ÛŒØª', value: '512GB', available: true, price: 75000000 },
        { id: '1tb', name: '1 ØªØ±Ø§Ø¨Ø§ÛŒØª', value: '1TB', available: true, price: 85000000 }
      ]
    },
    specifications: {
      'Ù†Ù…Ø§ÛŒØ´Ú¯Ø±': 'Dynamic AMOLED 2XØŒ 6.8 Ø§ÛŒÙ†Ú†ØŒ 3200Ã—1440 Ù¾ÛŒÚ©Ø³Ù„',
      'Ù¾Ø±Ø¯Ø§Ø²Ù†Ø¯Ù‡': 'Qualcomm Snapdragon 8 Gen 3',
      'Ø±Ù…': '12 Ú¯ÛŒÚ¯Ø§Ø¨Ø§ÛŒØª LPDDR5X',
      'Ø­Ø§ÙØ¸Ù‡ Ø¯Ø§Ø®Ù„ÛŒ': '256/512 Ú¯ÛŒÚ¯Ø§Ø¨Ø§ÛŒØª/1 ØªØ±Ø§Ø¨Ø§ÛŒØª UFS 4.0',
      'Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø§ØµÙ„ÛŒ': '200 Ù…Ú¯Ø§Ù¾ÛŒÚ©Ø³Ù„ØŒ f/1.7ØŒ OIS',
      'Ø¯ÙˆØ±Ø¨ÛŒÙ† ÙÙˆÙ‚ Ø¹Ø±ÛŒØ¶': '12 Ù…Ú¯Ø§Ù¾ÛŒÚ©Ø³Ù„ØŒ f/2.2ØŒ 120Â°',
      'Ø¯ÙˆØ±Ø¨ÛŒÙ† ØªÙ„Ù‡â€ŒÙØªÙˆ': '50 Ù…Ú¯Ø§Ù¾ÛŒÚ©Ø³Ù„ØŒ f/3.4ØŒ 5x zoomØŒ OIS',
      'Ø¯ÙˆØ±Ø¨ÛŒÙ† Ù¾Ø±ÛŒØ³Ú©ÙˆÙ¾ÛŒ': '10 Ù…Ú¯Ø§Ù¾ÛŒÚ©Ø³Ù„ØŒ f/2.4ØŒ 3x zoomØŒ OIS',
      'Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø¬Ù„Ùˆ': '12 Ù…Ú¯Ø§Ù¾ÛŒÚ©Ø³Ù„ØŒ f/2.2',
      'Ø¨Ø§ØªØ±ÛŒ': '5000 Ù…ÛŒÙ„ÛŒâ€ŒØ¢Ù…Ù¾Ø± Ø³Ø§Ø¹Øª',
      'Ø´Ø§Ø±Ú˜': 'Ø´Ø§Ø±Ú˜ Ø³Ø±ÛŒØ¹ 45 ÙˆØ§ØªØŒ Ø¨ÛŒâ€ŒØ³ÛŒÙ… 15 ÙˆØ§Øª',
      'Ø³ÛŒØ³ØªÙ… Ø¹Ø§Ù…Ù„': 'Android 14ØŒ One UI 6.1',
      'Ø§ØªØµØ§Ù„Ø§Øª': '5GØŒ Wi-Fi 7ØŒ Bluetooth 5.3ØŒ USB-C 3.2',
      'Ù…Ù‚Ø§ÙˆÙ…Øª': 'IP68ØŒ Gorilla Glass Armor',
      'Ø§Ø¨Ø¹Ø§Ø¯': '162.3 Ã— 79 Ã— 8.6 Ù…ÛŒÙ„ÛŒâ€ŒÙ…ØªØ±',
      'ÙˆØ²Ù†': '232 Ú¯Ø±Ù…',
      'Ø³Ù†Ø³ÙˆØ±Ù‡Ø§': 'Ø§Ø«Ø± Ø§Ù†Ú¯Ø´Øª Ø²ÛŒØ± Ù†Ù…Ø§ÛŒØ´Ú¯Ø±ØŒ ØªØ´Ø®ÛŒØµ Ú†Ù‡Ø±Ù‡ØŒ Ú˜ÛŒØ±ÙˆØ³Ú©ÙˆÙ¾ØŒ Ø´ØªØ§Ø¨â€ŒØ³Ù†Ø¬'
    },
    reviews: [
      {
        id: '1-1',
        user: 'Ø¹Ù„ÛŒ Ù…Ø­Ù…Ø¯ÛŒ',
        rating: 5,
        comment: 'Ú¯ÙˆØ´ÛŒ ÙÙˆÙ‚â€ŒØ§Ù„Ø¹Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø§Ø³Øª. Ø¯ÙˆØ±Ø¨ÛŒÙ†â€ŒÙ‡Ø§ÛŒØ´ ÙˆØ§Ù‚Ø¹Ø§Ù‹ Ø­Ø±Ù Ø§ÙˆÙ„ Ø±Ø§ Ù…ÛŒâ€ŒØ²Ù†Ù†Ø¯ Ùˆ Ø¹Ù…Ù„Ú©Ø±Ø¯Ø´ Ø¯Ø± Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø³Ù†Ú¯ÛŒÙ† Ø¨ÛŒâ€ŒÙ†Ø¸ÛŒØ± Ø§Ø³Øª. S Pen Ù‡Ù… Ø®ÛŒÙ„ÛŒ Ù…ÙÛŒØ¯Ù‡.',
        date: '2024-03-15T10:30:00Z',
        verified: true,
        helpful: 23,
        images: ['/images/reviews/review-1-1.jpg']
      },
      {
        id: '1-2',
        user: 'ÙØ§Ø·Ù…Ù‡ Ø§Ø­Ù…Ø¯ÛŒ',
        rating: 4,
        comment: 'Ú¯ÙˆØ´ÛŒ Ø®ÙˆØ¨ÛŒ Ø§Ø³Øª Ø§Ù…Ø§ Ù‚ÛŒÙ…ØªØ´ Ú©Ù…ÛŒ Ø¨Ø§Ù„Ø§ Ø§Ø³Øª. Ø¨Ø§ Ø§ÛŒÙ† Ø­Ø§Ù„ Ú©ÛŒÙÛŒØª Ø³Ø§Ø®Øª Ø¹Ø§Ù„ÛŒ Ø¯Ø§Ø±Ø¯ Ùˆ Ø¨Ø§ØªØ±ÛŒâ€ŒØ§Ø´ ØªÙ…Ø§Ù… Ø±ÙˆØ² Ø¯ÙˆØ§Ù… Ù…ÛŒâ€ŒØ¢ÙˆØ±Ø¯.',
        date: '2024-03-10T14:20:00Z',
        verified: true,
        helpful: 15,
        images: []
      },
      {
        id: '1-3',
        user: 'Ø­Ø³ÛŒÙ† Ø±Ø¶Ø§ÛŒÛŒ',
        rating: 5,
        comment: 'Ø¨Ù‡ØªØ±ÛŒÙ† Ú¯ÙˆØ´ÛŒ Ú©Ù‡ ØªØ§ Ø­Ø§Ù„Ø§ Ø¯Ø§Ø´ØªÙ…. Ù†Ù…Ø§ÛŒØ´Ú¯Ø±Ø´ ÙÙˆÙ‚â€ŒØ§Ù„Ø¹Ø§Ø¯Ù‡ Ø±ÙˆØ´Ù† Ùˆ ÙˆØ§Ø¶Ø­Ù‡. Ø¯ÙˆØ±Ø¨ÛŒÙ†Ø´ Ù‡Ù… ÙˆØ§Ù‚Ø¹Ø§Ù‹ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒâ€ŒÙ‡.',
        date: '2024-03-08T16:45:00Z',
        verified: false,
        helpful: 8,
        images: []
      }
    ],
    rating: 4.6,
    reviewCount: 89,
    inStock: true,
    stockCount: 15,
    brand: 'Samsung',
    brandSlug: 'samsung',
    category: 'Ú¯ÙˆØ´ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„',
    categorySlug: 'mobile-phones',
    parentCategory: 'Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©',
    parentCategorySlug: 'electronics',
    tags: ['Ú¯ÙˆØ´ÛŒ', 'Ø³Ø§Ù…Ø³ÙˆÙ†Ú¯', 'Ø§Ù†Ø¯Ø±ÙˆÛŒØ¯', '5G', 'Ø¯ÙˆØ±Ø¨ÛŒÙ†', 'Ú¯ÛŒÙ…ÛŒÙ†Ú¯'],
    sku: 'SM-S928B',
    weight: 232,
    dimensions: { length: 162.3, width: 79, height: 8.6 },
    shipping: {
      freeShipping: true,
      freeShippingThreshold: 5000000,
      estimatedDays: { min: 1, max: 3 },
      locations: ['ØªÙ‡Ø±Ø§Ù†', 'Ú©Ø±Ø¬', 'Ø§ØµÙÙ‡Ø§Ù†', 'Ø´ÛŒØ±Ø§Ø²', 'Ù…Ø´Ù‡Ø¯', 'ØªØ¨Ø±ÛŒØ²'],
      expressAvailable: true,
      expressCost: 150000
    },
    warranty: '18 Ù…Ø§Ù‡Ù‡',
    warrantyProvider: 'Ø±Ø³Ø§Ù… UHD',
    returnPolicy: '7 Ø±ÙˆØ² Ø¶Ù…Ø§Ù†Øª Ø¨Ø§Ø²Ú¯Ø´Øª Ú©Ø§Ù„Ø§',
    features: [
      'Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² S Pen',
      'Ù…Ù‚Ø§ÙˆÙ… Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ø¢Ø¨ Ùˆ ØºØ¨Ø§Ø± (IP68)',
      'Ø´Ø§Ø±Ú˜ Ø¨ÛŒâ€ŒØ³ÛŒÙ… Ù…Ø¹Ú©ÙˆØ³',
      'Ø§Ø³Ú©Ù†Ø± Ø§Ø«Ø± Ø§Ù†Ú¯Ø´Øª Ø²ÛŒØ± Ù†Ù…Ø§ÛŒØ´Ú¯Ø±',
      'ÙÙ†Ø§ÙˆØ±ÛŒ Always-on Display',
      'Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Samsung DeX'
    ],
    seoTitle: 'Ø®Ø±ÛŒØ¯ Ú¯ÙˆØ´ÛŒ Samsung Galaxy S24 Ultra | Ù‚ÛŒÙ…Øª ÙˆÛŒÚ˜Ù‡ | ÃÂ± Store',
    seoDescription: 'Ú¯ÙˆØ´ÛŒ Samsung Galaxy S24 Ultra Ø¨Ø§ Ø¯ÙˆØ±Ø¨ÛŒÙ† 200 Ù…Ú¯Ø§Ù¾ÛŒÚ©Ø³Ù„ Ùˆ Ù†Ù…Ø§ÛŒØ´Ú¯Ø± 6.8 Ø§ÛŒÙ†Ú†. Ø®Ø±ÛŒØ¯ Ø¨Ø§ Ú¯Ø§Ø±Ø§Ù†ØªÛŒ 18 Ù…Ø§Ù‡Ù‡ Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø±Ø§ÛŒÚ¯Ø§Ù†.',
    createdAt: '2024-02-01T00:00:00Z',
    updatedAt: '2024-03-15T12:00:00Z',
    featured: true,
    bestseller: true,
    newArrival: false,
    onSale: true,
    saleEndDate: '2024-04-01T00:00:00Z'
  },
  
  // Add more sample products...
  {
    id: '2',
    name: 'Ù„Ù¾â€ŒØªØ§Ù¾ Ø§Ù¾Ù„ MacBook Pro 14 Ø§ÛŒÙ†Ú† M3 Pro',
    slug: 'macbook-pro-14-m3-pro',
    description: 'Ù„Ù¾â€ŒØªØ§Ù¾ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø§Ù¾Ù„ Ø¨Ø§ Ú†ÛŒÙ¾ M3 ProØŒ Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ù‡Ø§ÛŒ Ú¯Ø±Ø§ÙÛŒÚ©ÛŒ Ùˆ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ',
    shortDescription: 'Ù„Ù¾â€ŒØªØ§Ù¾ Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯ Ø§Ù¾Ù„ Ø¨Ø±Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒâ€ŒÙ‡Ø§',
    price: 95000000,
    originalPrice: 105000000,
    currency: 'IRR',
    images: [
      {
        id: '2-1',
        url: '/images/products/macbook-pro-14-1.jpg',
        alt: 'MacBook Pro 14 - Ù†Ù…Ø§ÛŒ Ø¬Ù„Ùˆ',
        isPrimary: true
      },
      {
        id: '2-2',
        url: '/images/products/macbook-pro-14-2.jpg',
        alt: 'MacBook Pro 14 - Ù†Ù…Ø§ÛŒ Ù¾Ø´Øª'
      }
    ],
    variants: {
      colors: [
        { id: 'space-black', name: 'Ù…Ø´Ú©ÛŒ ÙØ¶Ø§ÛŒÛŒ', value: '#1D1D1F', available: true },
        { id: 'silver', name: 'Ù†Ù‚Ø±Ù‡â€ŒØ§ÛŒ', value: '#E3E4E6', available: true }
      ],
      storage: [
        { id: '512gb', name: '512 Ú¯ÛŒÚ¯Ø§Ø¨Ø§ÛŒØª', value: '512GB', available: true, price: 95000000 },
        { id: '1tb', name: '1 ØªØ±Ø§Ø¨Ø§ÛŒØª', value: '1TB', available: true, price: 115000000 }
      ],
      memory: [
        { id: '18gb', name: '18 Ú¯ÛŒÚ¯Ø§Ø¨Ø§ÛŒØª', value: '18GB', available: true, price: 0 },
        { id: '36gb', name: '36 Ú¯ÛŒÚ¯Ø§Ø¨Ø§ÛŒØª', value: '36GB', available: true, price: 15000000 }
      ]
    },
    specifications: {
      'Ù¾Ø±Ø¯Ø§Ø²Ù†Ø¯Ù‡': 'Apple M3 Pro (11-core CPU, 14-core GPU)',
      'Ø±Ù…': '18 Ú¯ÛŒÚ¯Ø§Ø¨Ø§ÛŒØª ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡',
      'Ø­Ø§ÙØ¸Ù‡': '512 Ú¯ÛŒÚ¯Ø§Ø¨Ø§ÛŒØª SSD',
      'Ù†Ù…Ø§ÛŒØ´Ú¯Ø±': 'Liquid Retina XDRØŒ 14.2 Ø§ÛŒÙ†Ú†ØŒ 3024Ã—1964',
      'Ú¯Ø±Ø§ÙÛŒÚ©': 'M3 Pro 14-core GPU',
      'Ø¨Ø§ØªØ±ÛŒ': 'ØªØ§ 18 Ø³Ø§Ø¹Øª',
      'Ø§ØªØµØ§Ù„Ø§Øª': 'Thunderbolt 4ØŒ HDMIØŒ MagSafe 3',
      'Ø¯ÙˆØ±Ø¨ÛŒÙ†': 'FaceTime HD 1080p',
      'ØµÙˆØª': 'Ø³ÛŒØ³ØªÙ… 6 Ø¨Ù„Ù†Ø¯Ú¯Ùˆ Ø¨Ø§ ÙÙ†Ø§ÙˆØ±ÛŒ Spatial Audio',
      'Ú©ÛŒØ¨ÙˆØ±Ø¯': 'Magic Keyboard Ø¨Ø§ Touch ID',
      'Ø³ÛŒØ³ØªÙ… Ø¹Ø§Ù…Ù„': 'macOS Sonoma',
      'Ø§Ø¨Ø¹Ø§Ø¯': '312.6 Ã— 221.2 Ã— 15.5 Ù…ÛŒÙ„ÛŒâ€ŒÙ…ØªØ±',
      'ÙˆØ²Ù†': '1.61 Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…'
    },
    reviews: [
      {
        id: '2-1',
        user: 'Ù…Ù‡Ø¯ÛŒ Ú©Ø±ÛŒÙ…ÛŒ',
        rating: 5,
        comment: 'Ø¹Ù…Ù„Ú©Ø±Ø¯ ÙÙˆÙ‚â€ŒØ§Ù„Ø¹Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ù‡Ø§ÛŒ Ú¯Ø±Ø§ÙÛŒÚ©ÛŒ. Ø¨Ø§ØªØ±ÛŒâ€ŒØ§Ø´ ÙˆØ§Ù‚Ø¹Ø§Ù‹ Ù‡Ù…Ø§Ù†â€ŒØ·ÙˆØ± Ú©Ù‡ Ù…ÛŒâ€ŒÚ¯Ù† ØªÙ…Ø§Ù… Ø±ÙˆØ² Ø¯ÙˆØ§Ù… Ù…ÛŒâ€ŒØ¢Ø±Ù‡.',
        date: '2024-03-12T09:15:00Z',
        verified: true,
        helpful: 19,
        images: []
      }
    ],
    rating: 4.8,
    reviewCount: 34,
    inStock: true,
    stockCount: 8,
    brand: 'Apple',
    brandSlug: 'apple',
    category: 'Ù„Ù¾â€ŒØªØ§Ù¾',
    categorySlug: 'laptops',
    parentCategory: 'Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©',
    parentCategorySlug: 'electronics',
    tags: ['Ù„Ù¾â€ŒØªØ§Ù¾', 'Ø§Ù¾Ù„', 'Ù…Ú©', 'M3', 'Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ', 'Ú¯Ø±Ø§ÙÛŒÚ©'],
    sku: 'MRX43',
    weight: 1610,
    dimensions: { length: 312.6, width: 221.2, height: 15.5 },
    shipping: {
      freeShipping: true,
      freeShippingThreshold: 5000000,
      estimatedDays: { min: 2, max: 5 },
      locations: ['ØªÙ‡Ø±Ø§Ù†', 'Ø§ØµÙÙ‡Ø§Ù†', 'Ø´ÛŒØ±Ø§Ø²', 'Ù…Ø´Ù‡Ø¯'],
      expressAvailable: false,
      expressCost: 0
    },
    warranty: '12 Ù…Ø§Ù‡Ù‡',
    warrantyProvider: 'Ù…Ú© Ø§Ø³ØªÙˆØ± Ø§ÛŒØ±Ø§Ù†',
    returnPolicy: '7 Ø±ÙˆØ² Ø¶Ù…Ø§Ù†Øª Ø¨Ø§Ø²Ú¯Ø´Øª Ú©Ø§Ù„Ø§',
    features: [
      'Ú†ÛŒÙ¾ M3 Pro Ù¾ÛŒØ´Ø±ÙØªÙ‡',
      'Ù†Ù…Ø§ÛŒØ´Ú¯Ø± Liquid Retina XDR',
      'ØªØ§ 18 Ø³Ø§Ø¹Øª Ø¹Ù…Ø± Ø¨Ø§ØªØ±ÛŒ',
      'Magic Keyboard Ø¨Ø§ Touch ID',
      'Ø³ÛŒØ³ØªÙ… ØµÙˆØªÛŒ 6 Ø¨Ù„Ù†Ø¯Ú¯Ùˆ',
      'Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ Thunderbolt 4'
    ],
    seoTitle: 'Ø®Ø±ÛŒØ¯ MacBook Pro 14 Ø§ÛŒÙ†Ú† M3 Pro | Ù‚ÛŒÙ…Øª ÙˆÛŒÚ˜Ù‡ | ÃÂ± Store',
    seoDescription: 'Ù„Ù¾â€ŒØªØ§Ù¾ MacBook Pro 14 Ø§ÛŒÙ†Ú† Ø¨Ø§ Ú†ÛŒÙ¾ M3 Pro Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ. Ø®Ø±ÛŒØ¯ Ø¨Ø§ Ú¯Ø§Ø±Ø§Ù†ØªÛŒ Ù…Ø¹ØªØ¨Ø±.',
    createdAt: '2024-02-15T00:00:00Z',
    updatedAt: '2024-03-12T10:00:00Z',
    featured: true,
    bestseller: false,
    newArrival: true,
    onSale: true,
    saleEndDate: '2024-03-31T00:00:00Z'
  }
];

export const sampleFilterOptions = {
  categories: sampleCategories.map(cat => cat.name),
  priceRange: [0, 200000000] as [number, number],
  brands: ['Samsung', 'Apple', 'Xiaomi', 'Huawei', 'LG', 'Sony', 'Canon', 'Nikon'],
  colors: [
    { id: 'black', name: 'Ù…Ø´Ú©ÛŒ', value: '#000000', available: true },
    { id: 'white', name: 'Ø³ÙÛŒØ¯', value: '#FFFFFF', available: true },
    { id: 'blue', name: 'Ø¢Ø¨ÛŒ', value: '#0066CC', available: true },
    { id: 'red', name: 'Ù‚Ø±Ù…Ø²', value: '#CC0000', available: true },
    { id: 'gold', name: 'Ø·Ù„Ø§ÛŒÛŒ', value: '#FFD700', available: true },
    { id: 'silver', name: 'Ù†Ù‚Ø±Ù‡â€ŒØ§ÛŒ', value: '#C0C0C0', available: true }
  ],
  sizes: [
    { id: 'xs', name: 'XS', available: true },
    { id: 's', name: 'S', available: true },
    { id: 'm', name: 'M', available: true },
    { id: 'l', name: 'L', available: true },
    { id: 'xl', name: 'XL', available: true },
    { id: 'xxl', name: 'XXL', available: true }
  ],
  ratings: [5, 4, 3, 2, 1]
};

// Popular searches and suggestions
export const popularSearches = [
  'Ú¯ÙˆØ´ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„',
  'Ù„Ù¾â€ŒØªØ§Ù¾',
  'Ù‡Ø¯ÙÙˆÙ†',
  'Ø³Ø§Ø¹Øª Ù‡ÙˆØ´Ù…Ù†Ø¯',
  'ØªÙ„ÙˆÛŒØ²ÛŒÙˆÙ†',
  'Ø¯ÙˆØ±Ø¨ÛŒÙ†',
  'Ú©ÛŒØ¨ÙˆØ±Ø¯',
  'Ù…ÙˆØ³',
  'Ù¾Ø§ÙˆØ±Ø¨Ø§Ù†Ú©',
  'Ú©ÛŒØ³ Ù…ÙˆØ¨Ø§ÛŒÙ„'
];

export const searchSuggestions = [
  { id: '1', text: 'Samsung Galaxy S24', type: 'product' as const, count: 5 },
  { id: '2', text: 'MacBook Pro', type: 'product' as const, count: 8 },
  { id: '3', text: 'iPhone 15', type: 'product' as const, count: 12 },
  { id: '4', text: 'Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©', type: 'category' as const, count: 234 },
  { id: '5', text: 'Samsung', type: 'brand' as const, count: 45 },
  { id: '6', text: 'Apple', type: 'brand' as const, count: 67 }
];
```

This completes Part 2B of the ÃÂ± Store development with:

## Key Features Implemented:

### 1. **Product Components**:
- **ProductFilters**: Advanced filtering with Persian support
- **ProductSearch**: Real-time search with suggestions
- **ProductDetail**: Complete product page with variants, reviews, and related products

### 2. **Navigation Components**:
- **Breadcrumbs**: RTL breadcrumb navigation
- **CategoryMenu**: Multi-level category menu with hover effects

### 3. **Custom Hooks**:
- **useSearch**: Comprehensive search functionality with filtering and pagination
- **useFilters**: URL-synced filter management

### 4. **Utility Functions**:
- **Search utilities**: Persian text processing, tokenization, and scoring
- **SEO utilities**: Dynamic meta tags and structured data generation

### 5. **Page Components**:
- **Products listing page** (`/products`) with grid/list views
- **Product detail page** (`/products/[slug]`) with full product information
- **Category pages** (`/categories/[category]`) with category-specific filtering
- **Search results page** (`/search`) with advanced search capabilities

### 6. **Persian RTL Features**:
- Complete RTL layout support
- Persian number formatting
- Jalali date support
- Persian text search and tokenization
- Iranian shipping zones and currency

### 7. **SEO Optimization**:
- Dynamic meta tags for all pages
- Structured data for rich snippets
- Persian-friendly URL slugs
- Open Graph tags for social sharing

### 8. **Performance Features**:
- Static generation for product pages
- Image optimization and lazy loading
- Efficient filtering and search
- Infinite scroll/pagination
- Mobile-first responsive design

### 9. **E-commerce Features**:
- Product variants (color, size, storage)
- Inventory management
- Price display in Rials/Toman
- Discount calculations
- Wishlist functionality
- Cart preparation
- Reviews and ratings
- Related products

### 10. **Luxury Branding**:
- Consistent ÃÂ± Store branding throughout
- Gold accent colors and premium styling
- High-quality product imagery
- Professional typography and spacing

## Usage Instructions:

### 1. **Installation**:
```bash
npm install lucide-react next
```

### 2. **Tailwind CSS Configuration**:
Add to your `tailwind.config.js`:
```javascript
module.exports = {
  content: [
    './pages/**/*.{js,ts,jsx,tsx}',
    './src/**/*.{js,ts,jsx,tsx}',
  ],
  theme: {
    extend: {
      colors: {
        gold: '#D4AF37',
        emerald: '#50C878',
        ivory: '#FFFFF0'
      },
      fontFamily: {
        'persian': ['IRANSans', 'Tahoma', 'sans-serif']
      }
    }
  },
  plugins: []
}
```

### 3. **Next.js Configuration**:
Add to your `next.config.js`:
```javascript
module.exports = {
  i18n: {
    locales: ['fa', 'en'],
    defaultLocale: 'fa',
  },
  images: {
    domains: ['localhost', 'your-cdn-domain.com'],
  }
}
```

### 4. **Integration with Previous Parts**:
- Import UI components from Part 1B
- Use brand guidelines from Part 1A
- Extend localization from Part 1C
- Prepare for cart integration in Part 2C

### 5. **API Integration**:
Replace mock data in `getServerSideProps` and `getStaticProps` with actual API calls:

```typescript
// Example API integration
const fetchProducts = async (filters: any) => {
  const response = await fetch('/api/products', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(filters)
  });
  return response.json();
};
```

### 6. **State Management**:
For production, consider adding Redux or Zustand for global state:

```typescript
// Example with Zustand
import { create } from 'zustand';

const useStore = create((set) => ({
  cart: [],
  wishlist: [],
  addToCart: (product) => set((state) => ({ 
    cart: [...state.cart, product] 
  })),
  addToWishlist: (product) => set((state) => ({ 
    wishlist: [...state.wishlist, product] 
  }))
}));
```

### 7. **Environment Variables**:
Create `.env.local`:
```
NEXT_PUBLIC_API_URL=https://api.alphastore.ir
NEXT_PUBLIC_CDN_URL=https://cdn.alphastore.ir
NEXT_PUBLIC_GA_ID=GA_MEASUREMENT_ID
```

## Next Steps (Part 2C):

The next part should focus on:
1. **Shopping Cart** functionality
2. **Checkout Process** with Persian forms
3. **User Authentication** and profiles
4. **Order Management** system
5. **Payment Integration** with Iranian gateways
6. **Admin Dashboard** for product management

This Part 2B provides a complete, production-ready foundation for the product browsing experience of the ÃÂ± Store luxury Persian e-commerce platform, with full RTL support, advanced filtering, and SEO optimization.-105 transition-transform duration-300"
                    />
                  </div>
                  <div className="p-4 text-right">
                    <h3 className="font-medium text-gray-900 mb-2 line-clamp-2">
                      {relatedProduct.name}
                    </h3>
                    <div className="text-gold font-bold">
                      {formatPrice(relatedProduct.price)}
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </div>
        )}
      </div>

      {/* Lightbox Modal */}
      {showLightbox && (
        <div className="fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4">
          <button
            onClick={() => setShowLightbox(false)}
            className="absolute top-4 right-4 text-white hover:text-gray-300 z-10"
          >
            <X className="w-8 h-8" />
          </button>
          
          <div className="relative max-w-4xl max-h-full">
            <img
              src={product.images[selectedImage]?.url}
              alt={product.images[selectedImage]?.alt}
              className="max-w-full max-h-full object-contain"
            />
            
            {product.images.length > 1 && (
              <>
                <button
                  onClick={() => setSelectedImage(prev => 
                    prev > 0 ? prev - 1 : product.images.length - 1
                  )}
                  className="absolute left-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300"
                >
                  <ChevronLeft className="w-8 h-8" />
                </button>
                <button
                  onClick={() => setSelectedImage(prev => 
                    prev < product.images.length - 1 ? prev + 1 : 0
                  )}
                  className="absolute right-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300"
                >
                  <ChevronRight className="w-8 h-8" />
                </button>
              </>
            )}
          </div>
        </div>
      )}
    </>
  );
};

export default ProductDetail;
```

### 4. Navigation Components

```typescript
// src/components/navigation/Breadcrumbs.tsx
import { ChevronLeft, Home } from 'lucide-react';
import Link from 'next/link';

interface BreadcrumbItem {
  label: string;
  href?: string;
  current?: boolean;
}

interface BreadcrumbsProps {
  items: BreadcrumbItem[];
  className?: string;
}

const Breadcrumbs: React.FC<BreadcrumbsProps> = ({ items, className = '' }) => {
  return (
    <nav 
      className={`flex items-center gap-2 text-sm text-gray-600 ${className}`}
      aria-label="Ù…Ø³ÛŒØ±"
      dir="rtl"
    >
      <Link 
        href="/" 
        className="flex items-center hover:text-gold transition-colors"
        title="ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ"
      >
        <Home className="w-4 h-4" />
      </Link>
      
      {items.map((item, index) => (
        <div key={index} className="flex items-center gap-2">
          <ChevronLeft className="w-4 h-4 text-gray-400" />
          {item.href && !item.current ? (
            <Link 
              href={item.href}
              className="hover:text-gold transition-colors"
            >
              {item.label}
            </Link>
          ) : (
            <span 
              className={item.current ? 'text-gray-900 font-medium' : ''}
            >
              {item.label}
            </span>
          )}
        </div>
      ))}
    </nav>
  );
};

export default Breadcrumbs;
```

```typescript
// src/components/navigation/CategoryMenu.tsx
import { useState, useRef, useEffect } from 'react';
import { ChevronDown, Grid3X3 } from 'lucide-react';
import Link from 'next/link';

interface Subcategory {
  id: string;
  name: string;
  slug: string;
  count: number;
}

interface Category {
  id: string;
  name: string;
  slug: string;
  icon?: string;
  subcategories?: Subcategory[];
  featured?: boolean;
}

interface CategoryMenuProps {
  categories: Category[];
  currentCategory?: string;
}

const CategoryMenu: React.FC<CategoryMenuProps> = ({ 
  categories, 
  currentCategory 
}) => {
  const [hoveredCategory, setHoveredCategory] = useState<string | null>(null);
  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
  const timeoutRef = useRef<NodeJS.Timeout>();

  const handleMouseEnter = (categoryId: string) => {
    if (timeoutRef.current) {
      clearTimeout(timeoutRef.current);
    }
    setHoveredCategory(categoryId);
  };

  const handleMouseLeave = () => {
    timeoutRef.current = setTimeout(() => {
      setHoveredCategory(null);
    }, 100);
  };

  useEffect(() => {
    return () => {
      if (timeoutRef.current) {
        clearTimeout(timeoutRef.current);
      }
    };
  }, []);

  const getCategoryIcon = (category: Category) => {
    if (category.icon) {
      return <span className="text-2xl">{category.icon}</span>;
    }
    return <Grid3X3 className="w-6 h-6" />;
  };

  return (
    <div className="relative">
      {/* Mobile Menu Toggle */}
      <button
        onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}
        className="lg:hidden flex items-center gap-2 w-full px-4 py-3 bg-white border border-gray-200 rounded-lg text-right"
      >
        <ChevronDown className={`w-5 h-5 transition-transform ${isMobileMenuOpen ? 'rotate-180' : ''}`} />
        <span>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</span>
        <Grid3X3 className="w-5 h-5" />
      </button>

      {/* Desktop Menu */}
      <div className="hidden lg:flex bg-white rounded-lg shadow-sm border">
        {categories.map(category => (
          <div
            key={category.id}
            className="relative"
            onMouseEnter={() => handleMouseEnter(category.id)}
            onMouseLeave={handleMouseLeave}
          >
            <Link
              href={`/categories/${category.slug}`}
              className={`flex items-center gap-3 px-6 py-4 hover:bg-gray-50 transition-colors border-r border-gray-100 last:border-r-0 ${
                currentCategory === category.slug 
                  ? 'bg-gold/10 text-gold border-gold/20' 
                  : 'text-gray-700'
              }`}
            >
              {getCategoryIcon(category)}
              <span className="font-medium">{category.name}</span>
              {category.subcategories && category.subcategories.length > 0 && (
                <ChevronDown className="w-4 h-4 opacity-60" />
              )}
            </Link>

            {/* Subcategory Dropdown */}
            {category.subcategories && 
             category.subcategories.length > 0 && 
             hoveredCategory === category.id && (
              <div className="absolute top-full right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg min-w-[250px] z-50">
                <div className="p-4">
                  <h4 className="font-bold text-gray-900 mb-3 text-right">
                    {category.name}
                  </h4>
                  <div className="space-y-2">
                    {category.subcategories.map(sub => (
                      <Link
                        key={sub.id}
                        href={`/categories/${category.slug}/${sub.slug}`}
                        className="flex justify-between items-center py-2 px-3 rounded-md hover:bg-gray-50 transition-colors text-right"
                      >
                        <span className="text-sm text-gray-500">
                          ({new Intl.NumberFormat('fa-IR').format(sub.count)})
                        </span>
                        <span className="text-gray-700">{sub.name}</span>
                      </Link>
                    ))}
                  </div>
                  
                  <Link
                    href={`/categories/${category.slug}`}
                    className="block mt-4 pt-3 border-t border-gray-100 text-gold hover:text-gold/80 font-medium text-right"
                  >
                    Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª {category.name}
                  </Link>
                </div>
              </div>
            )}
          </div>
        ))}
      </div>

      {/* Mobile Menu */}
      {isMobileMenuOpen && (
        <>
          <div 
            className="fixed inset-0 bg-black/50 z-40 lg:hidden"
            onClick={() => setIsMobileMenuOpen(false)}
          />
          
          <div className="absolute top-full right-0 left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50 lg:hidden max-h-96 overflow-y-auto">
            {categories.map(category => (
              <div key={category.id} className="border-b border-gray-100 last:border-b-0">
                <Link
                  href={`/categories/${category.slug}`}
                  className="flex items-center gap-3 px-4 py-4 hover:bg-gray-50 transition-colors text-right"
                  onClick={() => setIsMobileMenuOpen(false)}
                >
                  {getCategoryIcon(category)}
                  <span className="font-medium text-gray-900">{category.name}</span>
                </Link>
                
                {category.subcategories && category.subcategories.length > 0 && (
                  <div className="bg-gray-50 px-4 pb-2">
                    {category.subcategories.map(sub => (
                      <Link
                        key={sub.id}
                        href={`/categories/${category.slug}/${sub.slug}`}
                        className="block py-2 px-4 text-gray-600 hover:text-gray-900 text-right text-sm"
                        onClick={() => setIsMobileMenuOpen(false)}
                      >
                        {sub.name} ({new Intl.NumberFormat('fa-IR').format(sub.count)})
                      </Link>
                    ))}
                  </div>
                )}
              </div>
            ))}
          </div>
        </>
      )}
    </div>
  );
};

export default CategoryMenu;
```

### 5. Custom Hooks

```typescript
// src/hooks/useSearch.ts
import { useState, useEffect, useCallback, useMemo } from 'react';

interface SearchFilters {
  category?: string;
  priceMin?: number;
  priceMax?: number;
  brand?: string;
  rating?: number;
  sortBy?: 'price-asc' | 'price-desc' | 'newest' | 'popular' | 'rating';
}

interface SearchResult {
  id: string;
  name: string;
  slug: string;
  price: number;
  image: string;
  rating: number;
  reviewCount: number;
  category: string;
  brand: string;
}

interface UseSearchResult {
  query: string;
  results: SearchResult[];
  filters: SearchFilters;
  isLoading: boolean;
  error: string | null;
  totalCount: number;
  hasMore: boolean;
  setQuery: (query: string) => void;
  setFilters: (filters: SearchFilters) => void;
  loadMore: () => void;
  reset: () => void;
}

const useSearch = (initialQuery: string = '', pageSize: number = 20): UseSearchResult => {
  const [query, setQuery] = useState(initialQuery);
  const [results, setResults] = useState<SearchResult[]>([]);
  const [filters, setFilters] = useState<SearchFilters>({});
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const [totalCount, setTotalCount] = useState(0);
  const [currentPage, setCurrentPage] = useState(1);
  const [hasMore, setHasMore] = useState(false);

  // Mock search function - replace with actual API call
  const searchProducts = useCallback(async (
    searchQuery: string, 
    searchFilters: SearchFilters, 
    page: number = 1
  ) => {
    setIsLoading(true);
    setError(null);

    try {
      // Simulate API delay
      await new Promise(resolve => setTimeout(resolve, 500));

      // Mock data - replace with actual API call
      const mockResults: SearchResult[] = [
        {
          id: '1',
          name: 'Ú¯ÙˆØ´ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø³Ø§Ù…Ø³ÙˆÙ†Ú¯ Galaxy S24',
          slug: 'samsung-galaxy-s24',
          price: 45000000,
          image: '/images/products/samsung-s24.jpg',
          rating: 4.5,
          reviewCount: 128,
          category: 'electronics',
          brand: 'Samsung'
        },
        {
          id: '2',
          name: 'Ù„Ù¾â€ŒØªØ§Ù¾ Ø§Ù¾Ù„ MacBook Pro 14',
          slug: 'macbook-pro-14',
          price: 85000000,
          image: '/images/products/macbook-pro.jpg',
          rating: 4.8,
          reviewCount: 94,
          category: 'electronics',
          brand: 'Apple'
        },
        // Add more mock data as needed
      ];

      const filteredResults = mockResults.filter(product => {
        const matchesQuery = !searchQuery || 
          product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
          product.brand.toLowerCase().includes(searchQuery.toLowerCase());
        
        const matchesCategory = !searchFilters.category || 
          product.category === searchFilters.category;
        
        const matchesPrice = 
          (!searchFilters.priceMin || product.price >= searchFilters.priceMin) &&
          (!searchFilters.priceMax || product.price <= searchFilters.priceMax);
        
        const matchesBrand = !searchFilters.brand || 
          product.brand === searchFilters.brand;
        
        const matchesRating = !searchFilters.rating || 
          product.rating >= searchFilters.rating;

        return matchesQuery && matchesCategory && matchesPrice && matchesBrand && matchesRating;
      });

      // Apply sorting
      if (searchFilters.sortBy) {
        filteredResults.sort((a, b) => {
          switch (searchFilters.sortBy) {
            case 'price-asc':
              return a.price - b.price;
            case 'price-desc':
              return b.price - a.price;
            case 'rating':
              return b.rating - a.rating;
            case 'popular':
              return b.reviewCount - a.reviewCount;
            case 'newest':
            default:
              return 0; // Mock newest sort
          }
        });
      }

      const startIndex = (page - 1) * pageSize;
      const paginatedResults = filteredResults.slice(startIndex, startIndex + pageSize);
      
      if (page === 1) {
        setResults(paginatedResults);
      } else {
        setResults(prev => [...prev, ...paginatedResults]);
      }
      
      setTotalCount(filteredResults.length);
      setHasMore(startIndex + pageSize < filteredResults.length);
      setCurrentPage(page);
      
    } catch (err) {
      setError('Ø®Ø·Ø§ Ø¯Ø± Ø¬Ø³ØªØ¬Ùˆ. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.');
      console.error('Search error:', err);
    } finally {
      setIsLoading(false);
    }
  }, [pageSize]);

  // Perform search when query or filters change
  useEffect(() => {
    if (query.trim() || Object.keys(filters).length > 0) {
      searchProducts(query, filters, 1);
    } else {
      setResults([]);
      setTotalCount(0);
      setHasMore(false);
      setCurrentPage(1);
    }
  }, [query, filters, searchProducts]);

  const loadMore = useCallback(() => {
    if (hasMore && !isLoading) {
      searchProducts(query, filters, currentPage + 1);
    }
  }, [hasMore, isLoading, query, filters, currentPage, searchProducts]);

  const reset = useCallback(() => {
    setQuery('');
    setFilters({});
    setResults([]);
    setTotalCount(0);
    setCurrentPage(1);
    setHasMore(false);
    setError(null);
  }, []);

  return {
    query,
    results,
    filters,
    isLoading,
    error,
    totalCount,
    hasMore,
    setQuery,
    setFilters,
    loadMore,
    reset
  };
};

export default useSearch;
```

```typescript
// src/hooks/useFilters.ts
import { useState, useCallback, useMemo } from 'react';
import { useRouter } from 'next/router';

interface FilterState {
  category?: string;
  priceMin?: number;
  priceMax?: number;
  brand?: string;
  color?: string;
  size?: string;
  rating?: number;
  sortBy?: string;
  page?: number;
}

interface UseFiltersResult {
  filters: FilterState;
  updateFilter: (key: keyof FilterState, value: any) => void;
  removeFilter: (key: keyof FilterState) => void;
  clearAllFilters: () => void;
  setFiltersFromURL: (query: any) => void;
  getURLFromFilters: () => string;
  hasActiveFilters: boolean;
  activeFilterCount: number;
}

const useFilters = (initialFilters: FilterState = {}): UseFiltersResult => {
  const router = useRouter();
  const [filters, setFilters] = useState<FilterState>(initialFilters);

  const updateFilter = useCallback((key: keyof FilterState, value: any) => {
    setFilters(prev => {
      const newFilters = { ...prev };
      
      if (value === undefined || value === null || value === '') {
        delete newFilters[key];
      } else {
        newFilters[key] = value;
      }

      // Reset page when filters change
      if (key !== 'page') {
        delete newFilters.page;
      }

      return newFilters;
    });
  }, []);

  const removeFilter = useCallback((key: keyof FilterState) => {
    setFilters(prev => {
      const newFilters = { ...prev };
      delete newFilters[key];
      
      // Reset page when filters change
      if (key !== 'page') {
        delete newFilters.page;
      }
      
      return newFilters;
    });
  }, []);

  const clearAllFilters = useCallback(() => {
    setFilters({});
  }, []);

  const setFiltersFromURL = useCallback((query: any) => {
    const urlFilters: FilterState = {};
    
    if (query.category) urlFilters.category = query.category;
    if (query.priceMin) urlFilters.priceMin = parseInt(query.priceMin);
    if (query.priceMax) urlFilters.priceMax = parseInt(query.priceMax);
    if (query.brand) urlFilters.brand = query.brand;
    if (query.color) urlFilters.color = query.color;
    if (query.size) urlFilters.size = query.size;
    if (query.rating) urlFilters.rating = parseInt(query.rating);
    if (query.sortBy) urlFilters.sortBy = query.sortBy;
    if (query.page) urlFilters.page = parseInt(query.page);

    setFilters(urlFilters);
  }, []);

  const getURLFromFilters = useCallback((): string => {
    const params = new URLSearchParams();
    
    Object.entries(filters).forEach(([key, value]) => {
      if (value !== undefined && value !== null && value !== '') {
        params.set(key, value.toString());
      }
    });

    return params.toString();
  }, [filters]);

  const hasActiveFilters = useMemo(() => {
    return Object.keys(filters).some(key => key !== 'page' && key !== 'sortBy');
  }, [filters]);

  const activeFilterCount = useMemo(() => {
    return Object.keys(filters).filter(key => key !== 'page' && key !== 'sortBy').length;
  }, [filters]);

  return {
    filters,
    updateFilter,
    removeFilter,
    clearAllFilters,
    setFiltersFromURL,
    getURLFromFilters,
    hasActiveFilters,
    activeFilterCount
  };
};

export default useFilters;
```

### 6. Utility Functions

```typescript
// src/utils/search.ts
export interface SearchConfig {
  minQueryLength: number;
  debounceMs: number;
  maxSuggestions: number;
}

export const defaultSearchConfig: SearchConfig = {
  minQueryLength: 2,
  debounceMs: 300,
  maxSuggestions: 10
};

// Persian text normalization for better search
export const normalizeSearchText = (text: string): string => {
  return text
    .replace(/ÙŠ/g, 'ÛŒ')
    .replace(/Ùƒ/g, 'Ú©')
    .replace(/â€Œ/g, ' ') // Replace ZWNJ with space
    .replace(/\s+/g, ' ') // Replace multiple spaces with single space
    .trim()
    .toLowerCase();
};

// Create search tokens from Persian text
export const tokenizeSearchText = (text: string): string[] => {
  const normalized = normalizeSearchText(text);
  const words = normalized.split(' ').filter(word => word.length > 0);
  
  // Include both individual words and combinations
  const tokens: string[] = [...words];
  
  // Add word combinations for better matching
  for (let i = 0; i < words.length - 1; i++) {
    tokens.push(words[i] + ' ' + words[i + 1]);
  }
  
  return tokens;
};

// Score search results based on relevance
export const calculateSearchScore = (
  searchQuery: string, 
  itemName: string, 
  itemDescription: string = '',
  itemBrand: string = '',
  itemCategory: string = ''
): number => {
  const query = normalizeSearchText(searchQuery);
  const name = normalizeSearchText(itemName);
  const description = normalizeSearchText(itemDescription);
  const brand = normalizeSearchText(itemBrand);
  const category = normalizeSearchText(itemCategory);
  
  let score = 0;
  
  // Exact match in name (highest score)
  if (name === query) score += 100;
  
  // Name starts with query
  if (name.startsWith(query)) score += 80;
  
  // Name contains query
  if (name.includes(query)) score += 60;
  
  // Brand exact match
  if (brand === query) score += 70;
  
  // Brand contains query
  if (brand.includes(query)) score += 40;
  
  // Category match
  if (category === query) score += 50;
  if (category.includes(query)) score += 30;
  
  // Description contains query
  if (description.includes(query)) score += 20;
  
  // Token-based scoring for partial matches
  const queryTokens = tokenizeSearchText(query);
  const nameTokens = tokenizeSearchText(name);
  
  queryTokens.forEach(queryToken => {
    nameTokens.forEach(nameToken => {
      if (nameToken.includes(queryToken)) {
        score += 10;
      }
    });
  });
  
  return score;
};

// Debounce function for search input
export const debounce = <T extends (...args: any[]) => any>(
  func: T,
  delay: number
): ((...args: Parameters<T>) => void) => {
  let timeoutId: NodeJS.Timeout;
  
  return (...args: Parameters<T>) => {
    clearTimeout(timeoutId);
    timeoutId = setTimeout(() => func(...args), delay);
  };
};

// Generate search suggestions
export const generateSearchSuggestions = (
  query: string,
  products: any[],
  categories: any[],
  brands: any[]
): any[] => {
  const normalized = normalizeSearchText(query);
  if (normalized.length < defaultSearchConfig.minQueryLength) {
    return [];
  }

  const suggestions: any[] = [];
  
  // Product suggestions
  products.forEach(product => {
    if (normalizeSearchText(product.name).includes(normalized)) {
      suggestions.push({
        id: `product-${product.id}`,
        text: product.name,
        type: 'product',
        count: 1
      });
    }
  });
  
  // Category suggestions
  categories.forEach(category => {
    if (normalizeSearchText(category.name).includes(normalized)) {
      suggestions.push({
        id: `category-${category.id}`,
        text: category.name,
        type: 'category',
        count: category.productCount || 0
      });
    }
  });
  
  // Brand suggestions
  brands.forEach(brand => {
    if (normalizeSearchText(brand.name).includes(normalized)) {
      suggestions.push({
        id: `brand-${brand.id}`,
        text: brand.name,
        type: 'brand',
        count: brand.productCount || 0
      });
    }
  });
  
  // Sort by relevance and limit results
  return suggestions
    .sort((a, b) => calculateSearchScore(query, b.text, '', '', '') - calculateSearchScore(query, a.text, '', '', ''))
    .slice(0, defaultSearchConfig.maxSuggestions);
};
```

```typescript
// src/utils/seo.ts
export interface SEOData {
  title: string;
  description: string;
  keywords: string[];
  ogTitle?: string;
  ogDescription?: string;
  ogImage?: string;
  canonicalUrl?: string;
  structuredData?: any;
}

// Generate SEO-friendly URL slug
export const generateSlug = (text: string): string => {
  return text
    .toLowerCase()
    .replace(/[^\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFFa-z0-9\s-]/g, '') // Keep Persian, English, numbers, spaces, hyphens
    .replace(/\s+/g, '-') // Replace spaces with hyphens
    .replace(/-+/g, '-') // Replace multiple hyphens with single
    .replace(/^-|-$/g, ''); // Remove leading/trailing hyphens
};

// Generate product page SEO data
export const generateProductSEO = (product: any): SEOData => {
  const title = `${product.name} - ${product.brand} | ÃÂ± Store`;
  const description = `Ø®Ø±ÛŒØ¯ ${product.name} Ø§Ø² Ø¨Ø±Ù†Ø¯ ${product.brand} Ø¨Ø§ Ø¨Ù‡ØªØ±ÛŒÙ† Ù‚ÛŒÙ…Øª Ùˆ Ú¯Ø§Ø±Ø§Ù†ØªÛŒ. ${product.description.substring(0, 100)}...`;
  
  const keywords = [
    product.name,
    product.brand,
    product.category,
    ...product.tags,
    'Ø®Ø±ÛŒØ¯ Ø¢Ù†Ù„Ø§ÛŒÙ†',
    'ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø§ÛŒÙ†ØªØ±Ù†ØªÛŒ',
    'Ø¢Ù„ÙØ§ Ø§Ø³ØªÙˆØ±'
  ];

  const structuredData = {
    "@context": "https://schema.org/",
    "@type": "Product",
    "name": product.name,
    "description": product.description,
    "brand": {
      "@type": "Brand",
      "name": product.brand
    },
    "offers": {
      "@type": "Offer",
      "price": product.price,
      "priceCurrency": "IRR",
      "availability": product.inStock ? "https://schema.org/InStock" : "https://schema.org/OutOfStock"
    },
    "aggregateRating": product.reviewCount > 0 ? {
      "@type": "AggregateRating",
      "ratingValue": product.rating,
      "reviewCount": product.reviewCount,
      "bestRating": 5,
      "worstRating": 1
    } : undefined,
    "image": product.images.map((img: any) => img.url),
    "category": product.category
  };

  return {
    title,
    description,
    keywords,
    ogTitle: title,
    ogDescription: description,
    ogImage: product.images[0]?.url,
    structuredData
  };
};

// Generate category page SEO data
export const generateCategorySEO = (category: any, products: any[]): SEOData => {
  const title = `${category.name} - Ø®Ø±ÛŒØ¯ Ø¢Ù†Ù„Ø§ÛŒÙ† | ÃÂ± Store`;
  const description = `Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ú©Ø§Ù…Ù„ ${category.name} Ø¨Ø§ Ø¨Ù‡ØªØ±ÛŒÙ† Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ Ùˆ Ú¯Ø§Ø±Ø§Ù†ØªÛŒ. ${products.length} Ù…Ø­ØµÙˆÙ„ Ù…ØªÙ†ÙˆØ¹ Ø¯Ø± Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ${category.name}.`;
  
  const keywords = [
    category.name,
    `Ø®Ø±ÛŒØ¯ ${category.name}`,
    `Ù‚ÛŒÙ…Øª ${category.name}`,
    'ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø§ÛŒÙ†ØªØ±Ù†ØªÛŒ',
    'Ø¢Ù„ÙØ§ Ø§Ø³ØªÙˆØ±'
  ];

  const structuredData = {
    "@context": "https://schema.org/",
    "@type": "CollectionPage",
    "name": category.name,
    "description": category.description || description,
    "url": `/categories/${category.slug}`,
    "mainEntity": {
      "@type": "ItemList",
      "numberOfItems": products.length,
      "itemListElement": products.map((product: any, index: number) => ({
        "@type": "ListItem",
        "position": index + 1,
        "item": {
          "@type": "Product",
          "name": product.name,
          "url": `/products/${product.slug}`
        }
      }))
    }
  };

  return {
    title,
    description,
    keywords,
    ogTitle: title,
    ogDescription: description,
    structuredData
  };
};

// Generate search results SEO data
export const generateSearchSEO = (query: string, resultCount: number): SEOData => {
  const title = `Ù†ØªØ§ÛŒØ¬ Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø±Ø§ÛŒ "${query}" | ÃÂ± Store`;
  const description = `${resultCount} Ù…Ø­ØµÙˆÙ„ Ø¨Ø±Ø§ÛŒ Ø¬Ø³ØªØ¬ÙˆÛŒ "${query}" ÛŒØ§ÙØª Ø´Ø¯. Ø¨Ù‡ØªØ±ÛŒÙ† Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ Ùˆ Ú¯Ø§Ø±Ø§Ù†ØªÛŒ Ù…Ø¹ØªØ¨Ø±.`;
  
  const keywords = [
    query,
    `Ø¬Ø³ØªØ¬Ùˆ ${query}`,
    'ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø§ÛŒÙ†ØªØ±Ù†ØªÛŒ',
    'Ø¢Ù„ÙØ§ Ø§Ø³ØªÙˆØ±'
  ];

  return {
    title,
    description,
    keywords,
    ogTitle: title,
    ogDescription: description
  };
};

// Format Persian numbers
export const formatPersianNumber = (number: number): string => {
  const persianDigits = 'Û°Û±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹';
  return number
    .toString()
    .replace(/\d/g, (digit) => persianDigits[parseInt(digit)]);
};

// Format price with Persian separators
export const formatPrice = (price: number, currency: string = 'Ø±ÛŒØ§Ù„'): string => {
  const formatted = new Intl.NumberFormat('fa-IR').format(price);
  return `${formatted} ${currency}`;
};

// Convert price to Toman
export const formatPriceInToman = (price: number): string => {
  return formatPrice(price / 10, 'ØªÙˆÙ…Ø§Ù†');
};
```

### 7. Page Components

```typescript
// pages/products/index.tsx
import { useState, useEffect } from 'react';
import { GetServerSideProps } from 'next';
import Head from 'next/head';
import { Grid, List, Filter, SortAsc } from 'lucide-react';
import ProductFilters from '../../src/components/product/ProductFilters';
import ProductSearch from '../../src/components/product/ProductSearch';
import Breadcrumbs from '../../src/components/navigation/Breadcrumbs';
import CategoryMenu from '../../src/components/navigation/CategoryMenu';
import useSearch from '../../src/hooks/useSearch';
import useFilters from '../../src/hooks/useFilters';
import { generateSearchSEO } from '../../src/utils/seo';

interface ProductsPageProps {
  initialQuery?: string;
  initialFilters?: any;
  categories: any[];
  filterOptions: any;
}

const ProductsPage: React.FC<ProductsPageProps> = ({
  initialQuery = '',
  initialFilters = {},
  categories,
  filterOptions
}) => {
  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');
  const [isFilterOpen, setIsFilterOpen] = useState(false);
  
  const { filters, updateFilter, clearAllFilters, hasActiveFilters } = useFilters(initialFilters);
  const { 
    query, 
    results, 
    isLoading, 
    totalCount, 
    hasMore, 
    setQuery, 
    setFilters, 
    loadMore 
  } = useSearch(initialQuery);

  // Sync filters with search hook
  useEffect(() => {
    setFilters(filters);
  }, [filters, setFilters]);

  const sortOptions = [
    { value: '', label: 'Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³' },
    { value: 'newest', label: 'Ø¬Ø¯ÛŒØ¯ØªØ±ÛŒÙ†' },
    { value: 'popular', label: 'Ù…Ø­Ø¨ÙˆØ¨â€ŒØªØ±ÛŒÙ†' },
    { value: 'price-asc', label: 'Ù‚ÛŒÙ…Øª: Ú©Ù… Ø¨Ù‡ Ø²ÛŒØ§Ø¯' },
    { value: 'price-desc', label: 'Ù‚ÛŒÙ…Øª: Ø²ÛŒØ§Ø¯ Ø¨Ù‡ Ú©Ù…' },
    { value: 'rating', label: 'Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ø§Ù…ØªÛŒØ§Ø²' }
  ];

  const seoData = generateSearchSEO(query || 'Ù‡Ù…Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª', totalCount);

  return (
    <>
      <Head>
        <title>{seoData.title}</title>
        <meta name="description" content={seoData.description} />
        <meta name="keywords" content={seoData.keywords.join(', ')} />
        <meta property="og:title" content={seoData.ogTitle} />
        <meta property="og:description" content={seoData.ogDescription} />
      </Head>

      <div className="min-h-screen bg-gray-50">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          {/* Breadcrumbs */}
          <Breadcrumbs
            items={[
              { label: 'Ù…Ø­ØµÙˆÙ„Ø§Øª', current: !query },
              ...(query ? [{ label: `Ø¬Ø³ØªØ¬Ùˆ: ${query}`, current: true }] : [])
            ]}
            className="mb-6"
          />

          {/* Category Menu */}
          <CategoryMenu categories={categories} className="mb-8" />

          {/* Search */}
          <div className="mb-8">
            <ProductSearch
              onSearch={setQuery}
              suggestions={[]}
              recentSearches={[]}
              popularSearches={['Ú¯ÙˆØ´ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„', 'Ù„Ù¾â€ŒØªØ§Ù¾', 'Ù‡Ø¯ÙÙˆÙ†', 'Ø³Ø§Ø¹Øª Ù‡ÙˆØ´Ù…Ù†Ø¯']}
              isLoading={isLoading}
            />
          </div>

          <div className="flex flex-col lg:flex-row gap-8">
            {/* Filters Sidebar */}
            <div className="w-full lg:w-80 flex-shrink-0">
              <div className="lg:hidden mb-4">
                <button
                  onClick={() => setIsFilterOpen(!isFilterOpen)}
                  className="flex items-center gap-2 w-full px-4 py-3 bg-white border border-gray-200 rounded-lg text-right justify-end"
                >
                  <span>ÙÛŒÙ„ØªØ±Ù‡Ø§</span>
                  <Filter className="w-5 h-5" />
                </button>
              </div>
              
              <ProductFilters
                options={filterOptions}
                activeFilters={filters}
                onFiltersChange={(newFilters) => {
                  Object.entries(newFilters).forEach(([key, value]) => {
                    updateFilter(key as any, value);
                  });
                }}
                isOpen={isFilterOpen}
                onToggle={() => setIsFilterOpen(!isFilterOpen)}
              />
            </div>

            {/* Main Content */}
            <div className="flex-1">
              {/* Results Header */}
              <div className="bg-white rounded-lg shadow-sm border p-6 mb-6">
                <div className="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
                  <div className="flex items-center gap-4 order-2 sm:order-1">
                    {/* View Toggle */}
                    <div className="flex border border-gray-300 rounded-lg overflow-hidden">
                      <button
                        onClick={() => setViewMode('grid')}
                        className={`p-2 ${
                          viewMode === 'grid' 
                            ? 'bg-gold text-white' 
                            : 'bg-white text-gray-600 hover:bg-gray-50'
                        }`}
                      >
                        <Grid className="w-5 h-5" />
                      </button>
                      <button
                        onClick={() => setViewMode('list')}
                        className={`p-2 ${
                          viewMode === 'list' 
                            ? 'bg-gold text-white' 
                            : 'bg-white text-gray-600 hover:bg-gray-50'
                        }`}
                      >
                        <List className="w-5 h-5" />
                      </button>
                    </div>

                    {/* Sort Dropdown */}
                    <select
                      value={filters.sortBy || ''}
                      onChange={(e) => updateFilter('sortBy', e.target.value || undefined)}
                      className="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gold focus:border-transparent text-right"
                    >
                      {sortOptions.map(option => (
                        <option key={option.value} value={option.value}>
                          {option.label}
                        </option>
                      ))}
                    </select>
                  </div>

                  <div className="text-right order-1 sm:order-2">
                    <p className="text-gray-600">
                      {totalCount > 0 ? (
                        <>
                          <span className="font-bold text-gray-900">
                            {new Intl.NumberFormat('fa-IR').format(totalCount)}
                          </span>
                          {' '}Ù…Ø­ØµÙˆÙ„ ÛŒØ§ÙØª Ø´Ø¯
                          {query && (
                            <>
                              {' '}Ø¨Ø±Ø§ÛŒ Â«<span className="font-medium">{query}</span>Â»
                            </>
                          )}
                        </>
                      ) : (
                        'Ù…Ø­ØµÙˆÙ„ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯'
                      )}
                    </p>
                    
                    {hasActiveFilters && (
                      <button
                        onClick={clearAllFilters}
                        className="text-red-600 hover:text-red-700 text-sm mt-1"
                      >
                        Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ ÙÛŒÙ„ØªØ±Ù‡Ø§
                      </button>
                    )}
                  </div>
                </div>
              </div>

              {/* Results */}
              {isLoading && results.length === 0 ? (
                <div className="bg-white rounded-lg shadow-sm border p-12 text-center">
                  <div className="w-12 h-12 border-4 border-gold border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
                  <p className="text-gray-600">Ø¯Ø± Ø­Ø§Ù„ Ø¬Ø³ØªØ¬Ùˆ...</p>
                </div>
              ) : results.length > 0 ? (
                <>
                  {/* Products Grid/List */}
                  <div className={
                    viewMode === 'grid' 
                      ? 'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6'
                      : 'space-y-4'
                  }>
                    {results.map(product => (
                      <ProductCard 
                        key={product.id} 
                        product={product} 
                        viewMode={viewMode}
                      />
                    ))}
                  </div>

                  {/* Load More */}
                  {hasMore && (
                    <div className="text-center mt-8">
                      <button
                        onClick={loadMore}
                        disabled={isLoading}
                        className="px-8 py-3 bg-gold text-white rounded-lg hover:bg-gold/90 disabled:opacity-50 flex items-center gap-2 mx-auto"
                      >
                        {isLoading ? (
                          <>
                            <div className="w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
                            Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...
                          </>
                        ) : (
                          'Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨ÛŒØ´ØªØ±'
                        )}
                      </button>
                    </div>
                  )}
                </>
              ) : (
                <div className="bg-white rounded-lg shadow-sm border p-12 text-center">
                  <div className="text-6xl text-gray-300 mb-4">ğŸ”</div>
                  <h3 className="text-xl font-bold text-gray-900 mb-2">
                    Ù…Ø­ØµÙˆÙ„ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯
                  </h3>
                  <p className="text-gray-600 mb-6">
                    {query 
                      ? `Ù†ØªÛŒØ¬Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ "${query}" ÛŒØ§ÙØª Ù†Ø´Ø¯. Ù„Ø·ÙØ§Ù‹ Ú©Ù„Ù…Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ Ø¯ÛŒÚ¯Ø±ÛŒ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.`
                      : 'Ù‡ÛŒÚ† Ù…Ø­ØµÙˆÙ„ÛŒ Ø¨Ø§ ÙÛŒÙ„ØªØ±Ù‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯.'
                    }
                  </p>
                  {(query || hasActiveFilters) && (
                    <div className="flex flex-col sm:flex-row gap-3 justify-center">
                      {query && (
                        <button
                          onClick={() => setQuery('')}
                          className="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:border-gray-400"
                        >
                          Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ø¬Ø³ØªØ¬Ùˆ
                        </button>
                      )}
                      {hasActiveFilters && (
                        <button
                          onClick={clearAllFilters}
                          className="px-6 py-2 bg-gold text-white rounded-lg hover:bg-gold/90"
                        >
                          Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ ÙÛŒÙ„ØªØ±Ù‡Ø§
                        </button>
                      )}
                    </div>
                  )}
                </div>
              )}
            </div>
          </div>
        </div>
      </div>
    </>
  );
};

// Simple Product Card Component (you can expand this)
const ProductCard: React.FC<{ product: any; viewMode: 'grid' | 'list' }> = ({ 
  product, 
  viewMode 
}) => {
  const formatPrice = (price: number) => {
    return new Intl.NumberFormat('fa-IR').format(price) + ' Ø±ÛŒØ§Ù„';
  };

  if (viewMode === 'list') {
    return (
      <div className="bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow p-4">
        <div className="flex gap-4">
          <div className="w-24 h-24 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0">
            <img
              src={product.image}
              alt={product.name}
              className="w-full h-full object-cover"
            />
          </div>
          <div className="flex-1 text-right">
            <h3 className="font-medium text-gray-900 mb-1 line-clamp-2">
              {product.name}
            </h3>
            <p className="text-sm text-gray-600 mb-2">{product.brand}</p>
            <div className="flex items-center justify-end gap-2 mb-2">
              <span className="text-sm text-gray-500">
                ({new Intl.NumberFormat('fa-IR').format(product.reviewCount)})
              </span>
              <div className="flex">
                {[...Array(5)].map((_, i) => (
                  <span
                    key={i}
                    className={`text-sm ${
                      i < Math.floor(product.rating) 
                        ? 'text-yellow-400' 
                        : 'text-gray-300'
                    }`}
                  >
                    â˜…
                  </span>
                ))}
              </div>
            </div>
            <div className="text-gold font-bold">
              {formatPrice(product.price)}
            </div>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow">
      <div className="aspect-square bg-gray-100 rounded-t-lg overflow-hidden">
        <img
          src={product.image}
          alt={product.name}
          className="w-full h-full object-cover hover:scale-105 transition-transform duration-300"
        />
      </div>
      <div className="p-4 text-right">
        <h3 className="font-medium text-gray-900 mb-1 line-clamp-2">
          {product.name}
        </h3>
        <p className="text-sm text-gray-600 mb-2">{product.brand}</p>
        <div className="flex items-center justify-end gap-2 mb-3">
          <span className="text-sm text-gray-500">
            ({new Intl.NumberFormat('fa-IR').format(product.reviewCount)})
          </span>
          <div className="flex">
            {[...Array(5)].map((_, i) => (
              <span
                key={i}
                className={`text-sm ${
                  i < Math.floor(product.rating) 
                    ? 'text-yellow-400' 
                    : 'text-gray-300'
                }`}
              >
                â˜…
              </span>
            ))}